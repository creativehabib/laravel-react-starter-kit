import{r,j as e,K as x,L as N,S as u}from"./app-CGvFHhj2.js";import{A as D}from"./app-layout-C0VdXHls.js";import{DialogDemo as y}from"./designation-form-CME0mcjI.js";import{V as h}from"./index-CCzXbqTD.js";import{S,T as v,I as w,D as C}from"./inertia-pagination-DDPo_Q6x.js";import"./index-D_7vlyOn.js";import"./index-Cs8ZiucO.js";import"./index-BxDk0zam.js";import"./app-logo-icon-BC-Xq_1o.js";import"./dialog-BYww7MzM.js";import"./input-C6Evg17u.js";import"./label-Cgk6BLXK.js";import"./textarea-CtsL186O.js";import"./loader-circle-BseLvSbU.js";const k=({id:s,status:l,onToggle:i})=>{const[a,c]=r.useState(l);r.useEffect(()=>{c(l)},[l]);const o=()=>{const n=!a;c(n),i(s,n)};return e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a,onChange:o}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 relative",children:e.jsx("div",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform peer-checked:translate-x-5"})})]})},E=[{title:"Designations",href:"/designations"}];function G(){var p;const{flash:s}=x().props,[l,i]=r.useState(null),{designations:a}=x().props,[c,o]=r.useState(!1),[n,m]=r.useState(null),j=t=>{i(t)},b=t=>{m(t),o(!0)},g=()=>{n!==null&&(u.delete(route("designations.destroy",n),{preserveScroll:!0,preserveState:!0,only:["designations","flash"]}),o(!1))},f=(t,d)=>{u.post(route("designations.toggle-status",t),{status:d},{preserveScroll:!0,preserveState:!0,only:["designations","flash"]})};return r.useEffect(()=>{s!=null&&s.success&&h.success(s.success),s!=null&&s.error&&h.error(s.error)},[s]),e.jsxs(e.Fragment,{children:[e.jsxs(D,{breadcrumbs:E,children:[e.jsx(N,{title:"Designations"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"ml-auto",children:e.jsx(y,{designation:l,onClose:()=>i(null)})}),e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-700 text-white",children:[e.jsx("th",{className:"border p-2",children:"#"}),e.jsx("th",{className:"border p-2 text-start",children:"Name"}),e.jsx("th",{className:"border p-2",children:"Status"}),e.jsx("th",{className:"border p-2",children:"Status Value"}),e.jsx("th",{className:"border p-2",children:"Created At"}),e.jsx("th",{className:"border p-2",children:"Action"})]})}),e.jsx("tbody",{children:(p=a.data)==null?void 0:p.map((t,d)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 text-center",children:d+1}),e.jsx("td",{className:"border px-2 py-1",children:t.title}),e.jsx("td",{className:"w-fit border px-2 py-1 text-center",children:e.jsx(k,{id:t.id,status:t.status,onToggle:f})}),e.jsxs("td",{className:"border px-2 py-1 text-center",children:[t.status?"Enabled":"Disabled",t.status]}),e.jsx("td",{className:"border px-2 py-1 text-center",children:t.created_at?new Date(t.created_at).toLocaleDateString():"â€”"}),e.jsxs("td",{className:"space-x-1 border px-2 py-1 text-center",children:[e.jsx("button",{className:"cursor-pointer rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",onClick:()=>j(t),children:e.jsx(S,{size:16})}),e.jsx("button",{className:"cursor-pointer rounded bg-red-500 px-3 py-1 text-white hover:bg-red-600",onClick:()=>b(t.id),children:e.jsx(v,{size:16})})]})]},t.id))})]}),e.jsx("div",{className:"mb-2",children:e.jsx(w,{meta:a})})]})]})]}),e.jsx(C,{open:c,onClose:()=>o(!1),onConfirm:g,title:"Confirm Deletion",description:"Are you sure you want to delete this designation?"})]})}export{G as default};
