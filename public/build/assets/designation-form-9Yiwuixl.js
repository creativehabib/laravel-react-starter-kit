import{r as u,m as b,j as s}from"./app-Bjod2VL-.js";import{B as h}from"./button-D5jaBSXo.js";import{D as T,a as C,b as E,c as w,d as N,e as S,f as F}from"./dialog-Dt-lCnKe.js";import{I}from"./input-CxishPwW.js";import{L as c,I as m}from"./label-B1gSUZMd.js";import{T as L}from"./textarea-B0HoC08g.js";import{T as y}from"./toggle-QR8CSls4.js";import{L as B}from"./loader-circle-B6CKwtxK.js";import"./index-B2c1kAwm.js";import"./index-BK4x4c8N.js";import"./x-D2uq7-gs.js";import"./createLucideIcon-C8f4ME2f.js";function M({designation:t,onClose:p}){const i=!!t,[x,o]=u.useState(!1),{data:n,setData:r,post:j,put:f,processing:l,errors:a,reset:d}=b({title:"",description:"",status:!0}),g=e=>{e.preventDefault();const D=i?f:j,v=i?route("designations.update",t==null?void 0:t.id):route("designations.store");D(v,{onSuccess:()=>{d(),o(!1),p()}})};return u.useEffect(()=>{t?(o(!0),r({title:t.title,description:t.description||"",status:t.status??!0})):Object.keys(a).length||(o(!1),d())},[t,r,d,a]),s.jsxs(T,{open:x,onOpenChange:e=>{o(e),e||p()},children:[s.jsx(C,{asChild:!0,children:!i&&s.jsx(h,{variant:"outline",className:"cursor-pointer",children:"Add Designation"})}),s.jsxs(E,{className:"sm:max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs(w,{children:[s.jsxs(N,{children:[i?"Edit":"Add"," Designation"]}),s.jsx(S,{children:i?"Update the designation details.":"Provide a name and description."})]}),s.jsxs("form",{className:"grid gap-4",onSubmit:g,children:[s.jsxs("div",{children:[s.jsx(c,{htmlFor:"title",children:"Title"}),s.jsx(I,{id:"title",value:n.title,onChange:e=>r("title",e.target.value),disabled:l}),s.jsx(m,{message:a.title})]}),s.jsxs("div",{children:[s.jsx(c,{htmlFor:"description",children:"Description"}),s.jsx(L,{id:"description",value:n.description,onChange:e=>r("description",e.target.value),disabled:l,rows:4}),s.jsx(m,{message:a.description})]}),s.jsxs("div",{children:[s.jsx(c,{htmlFor:"status",children:"Status"}),s.jsx(y,{initial:!!Number(n.status),onChange:e=>r("status",e)}),s.jsx(m,{message:a.status})]}),s.jsx(F,{children:s.jsxs(h,{type:"submit",disabled:l,children:[l&&s.jsx(B,{className:"animate-spin h-4 w-4 mr-2"}),i?"Update":"Save"]})})]})]})]})}export{M as DialogDemo};
