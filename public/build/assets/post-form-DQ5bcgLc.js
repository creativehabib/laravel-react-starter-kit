import{m as p,j as e}from"./app-TldVKuPk.js";import{L as l,I as n}from"./label-N7QzkvVg.js";import{B as F}from"./button-CYPjPLNY.js";import{C as N,c as D}from"./card-DHzaBhPJ.js";import{I as L}from"./input-CVssNu7O.js";import{S as u,a as j,b as g,c as v,d as c}from"./select-Bpj8n6ac.js";import{T as P}from"./textarea-BAG9qOYC.js";import{S as T}from"./media-image-select-Br23iD8Z.js";import{X as E}from"./index-CF-L4P1F.js";import{L as V}from"./loader-circle-F7ey7-8k.js";import"./index-D8QFWdw1.js";import"./floating-ui.react-dom-QVacPfNV.js";import"./check-BVB2stW5.js";import"./media-manager-DX4FC6XC.js";import"./dialog-Dvp5Zu0k.js";import"./index-Pw9HTYSh.js";import"./delete-dialog-CJG4rcek.js";function W({post:t,onClose:m,onSuccess:d}){var h;const o=!!t,{data:s,setData:a,post:C,put:f,processing:x,errors:i}=p({title:(t==null?void 0:t.title)||"",category:(t==null?void 0:t.category)||"",status:((h=t==null?void 0:t.status)==null?void 0:h.toString())||"",content:(t==null?void 0:t.content)||"",media_id:(t==null?void 0:t.media_id)||null}),S=r=>{r.preventDefault();const b=o?f:C,I=o?route("posts.update",t.id):route("posts.store");b(I,{onSuccess:()=>{d==null||d(),m()}})},y=r=>{a("media_id",(r==null?void 0:r.id)??null)};return e.jsxs(N,{className:"p-4 relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-500",onClick:m,children:e.jsx(E,{size:18})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",children:"Title"}),e.jsx(L,{id:"title",value:s.title,onChange:r=>a("title",r.target.value)}),e.jsx(n,{message:i.title})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category",children:"Category"}),e.jsxs(u,{value:s.category,onValueChange:r=>a("category",r),children:[e.jsx(j,{id:"category",children:e.jsx(g,{placeholder:"Select Category"})}),e.jsxs(v,{children:[e.jsx(c,{value:"Marvel",children:"Marvel"}),e.jsx(c,{value:"DC",children:"DC"})]})]}),e.jsx(n,{message:i.category})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(u,{value:s.status,onValueChange:r=>a("status",r),children:[e.jsx(j,{id:"status",children:e.jsx(g,{placeholder:"Select Status"})}),e.jsxs(v,{children:[e.jsx(c,{value:"1",children:"Active"}),e.jsx(c,{value:"0",children:"Inactive"})]})]}),e.jsx(n,{message:i.status})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"content",children:"Content"}),e.jsx(P,{id:"content",rows:6,value:s.content,onChange:r=>a("content",r.target.value)}),e.jsx(n,{message:i.content})]}),e.jsx(T,{onSelect:y,initial:t==null?void 0:t.media}),e.jsx("div",{className:"text-end",children:e.jsxs(F,{type:"submit",disabled:x,children:[x&&e.jsx(V,{className:"mr-2 h-4 w-4 animate-spin"}),o?"Update Post":"Create Post"]})})]})})]})}export{W as default};
