import{r as c,m as B,j as s}from"./app-EWjb2TbH.js";import{B as u}from"./button-CfNS5PFM.js";import{D as E,a as N,b as C,c as S,d as w,e as I,f as L}from"./dialog-BLWqt19D.js";import{I as T}from"./input-CHvz4l7Z.js";import{L as g,I as p}from"./label-CKgP0lgd.js";import{T as b}from"./toggle-DplP7hOH.js";import{L as y}from"./loader-circle-ChuUd6CX.js";import"./index-PxJALgzO.js";import"./index-DfxX1HNH.js";function z({bloodGroup:e,onClose:l}){const t=!!e,[h,r]=c.useState(!1),{data:d,setData:i,post:x,put:j,processing:o,errors:n,reset:m}=B({name:"",status:!0}),f=a=>{a.preventDefault();const D=t?j:x,v=t?route("blood-groups.update",e==null?void 0:e.id):route("blood-groups.store");D(v,{onSuccess:()=>{m(),r(!1),l()}})};return c.useEffect(()=>{e?(r(!0),i({name:e.name,status:e.status??!0})):Object.keys(n).length||(r(!1),m())},[e,i,m,n]),s.jsxs(E,{open:h,onOpenChange:a=>{r(a),a||l()},children:[s.jsx(N,{asChild:!0,children:!t&&s.jsx(u,{variant:"outline",className:"cursor-pointer",children:"Add BloodGroup"})}),s.jsxs(C,{className:"sm:max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs(S,{children:[s.jsxs(w,{children:[t?"Edit":"Add"," BloodGroup"]}),s.jsx(I,{children:t?"Update the blood group details.":"Provide a name and description."})]}),s.jsxs("form",{className:"grid gap-4",onSubmit:f,children:[s.jsxs("div",{children:[s.jsx(g,{htmlFor:"name",children:"Name"}),s.jsx(T,{id:"name",value:d.name,onChange:a=>i("name",a.target.value),disabled:o}),s.jsx(p,{message:n.name})]}),s.jsxs("div",{children:[s.jsx(g,{htmlFor:"status",children:"Status"}),s.jsx(b,{initial:!!Number(d.status),onChange:a=>i("status",a)}),s.jsx(p,{message:n.status})]}),s.jsx(L,{children:s.jsxs(u,{type:"submit",disabled:o,children:[o&&s.jsx(y,{className:"animate-spin h-4 w-4 mr-2"}),t?"Update":"Save"]})})]})]})]})}export{z as BloodGroupsDialog};
