import{c as P,g as Ie,r as l,j as i,t as Oe,K as Ne,S as O,L as qe,$ as J}from"./app-z7XphswT.js";import{S as De,T as $e,I as Ae,D as ze}from"./delete-dialog-CZ5xR8LR.js";import{c as Q,B as N}from"./button-CKRoruYr.js";import{C as Be,c as Le}from"./card-DvvgCrwN.js";import{I as We}from"./input-DpfUraFR.js";import{S as Me,T as Ge,a as Fe,b as Y,c as C,d as Ve,e as w}from"./table-BJjOKv7m.js";import{A as Ue}from"./app-layout-k8JfePjc.js";import{V as He}from"./index-Ce4j1Uag.js";import"./index-D1TluHij.js";import"./createLucideIcon-CeZWMiFR.js";import"./dialog-2seZU-ZY.js";import"./index-Dd29tLvk.js";import"./x-CPH44b5b.js";import"./index-BDjm2R-_.js";var q,ee;function me(){if(ee)return q;ee=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return q=e,q}var D,te;function Xe(){if(te)return D;te=1;var e=typeof P=="object"&&P&&P.Object===Object&&P;return D=e,D}var $,re;function be(){if(re)return $;re=1;var e=Xe(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return $=r,$}var A,ne;function Ke(){if(ne)return A;ne=1;var e=be(),t=function(){return e.Date.now()};return A=t,A}var z,oe;function Ze(){if(oe)return z;oe=1;var e=/\s/;function t(r){for(var o=r.length;o--&&e.test(r.charAt(o)););return o}return z=t,z}var B,se;function Je(){if(se)return B;se=1;var e=Ze(),t=/^\s+/;function r(o){return o&&o.slice(0,e(o)+1).replace(t,"")}return B=r,B}var L,ie;function ve(){if(ie)return L;ie=1;var e=be(),t=e.Symbol;return L=t,L}var W,ae;function Qe(){if(ae)return W;ae=1;var e=ve(),t=Object.prototype,r=t.hasOwnProperty,o=t.toString,n=e?e.toStringTag:void 0;function c(a){var s=r.call(a,n),d=a[n];try{a[n]=void 0;var u=!0}catch{}var p=o.call(a);return u&&(s?a[n]=d:delete a[n]),p}return W=c,W}var M,ce;function Ye(){if(ce)return M;ce=1;var e=Object.prototype,t=e.toString;function r(o){return t.call(o)}return M=r,M}var G,ue;function et(){if(ue)return G;ue=1;var e=ve(),t=Qe(),r=Ye(),o="[object Null]",n="[object Undefined]",c=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?n:o:c&&c in Object(s)?t(s):r(s)}return G=a,G}var F,le;function tt(){if(le)return F;le=1;function e(t){return t!=null&&typeof t=="object"}return F=e,F}var V,de;function rt(){if(de)return V;de=1;var e=et(),t=tt(),r="[object Symbol]";function o(n){return typeof n=="symbol"||t(n)&&e(n)==r}return V=o,V}var U,fe;function nt(){if(fe)return U;fe=1;var e=Je(),t=me(),r=rt(),o=NaN,n=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function d(u){if(typeof u=="number")return u;if(r(u))return o;if(t(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=t(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=c.test(u);return h||a.test(u)?s(u.slice(2),h?2:8):n.test(u)?o:+u}return U=d,U}var H,pe;function ot(){if(pe)return H;pe=1;var e=me(),t=Ke(),r=nt(),o="Expected a function",n=Math.max,c=Math.min;function a(s,d,u){var p,h,f,b,m,g,x=0,S=!1,T=!1,j=!0;if(typeof s!="function")throw new TypeError(o);d=r(d)||0,e(u)&&(S=!!u.leading,T="maxWait"in u,f=T?n(r(u.maxWait)||0,d):f,j="trailing"in u?!!u.trailing:j);function _(v){var y=p,R=h;return p=h=void 0,x=v,b=s.apply(R,y),b}function Re(v){return x=v,m=setTimeout(k,d),S?_(v):b}function ke(v){var y=v-g,R=v-x,Z=d-y;return T?c(Z,f-R):Z}function X(v){var y=v-g,R=v-x;return g===void 0||y>=d||y<0||T&&R>=f}function k(){var v=t();if(X(v))return K(v);m=setTimeout(k,ke(v))}function K(v){return m=void 0,j&&p?_(v):(p=h=void 0,b)}function Pe(){m!==void 0&&clearTimeout(m),x=0,p=g=h=m=void 0}function Ee(){return m===void 0?b:K(t())}function I(){var v=t(),y=X(v);if(p=arguments,h=this,g=v,y){if(m===void 0)return Re(g);if(T)return clearTimeout(m),m=setTimeout(k,d),_(g)}return m===void 0&&(m=setTimeout(k,d)),b}return I.cancel=Pe,I.flush=Ee,I}return H=a,H}var st=ot();const it=Ie(st);function at(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function he(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ge(...e){return t=>{let r=!1;const o=e.map(n=>{const c=he(n,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let n=0;n<o.length;n++){const c=o[n];typeof c=="function"?c():he(e[n],null)}}}}function xe(...e){return l.useCallback(ge(...e),e)}function ct(e,t=[]){let r=[];function o(c,a){const s=l.createContext(a),d=r.length;r=[...r,a];const u=h=>{var S;const{scope:f,children:b,...m}=h,g=((S=f==null?void 0:f[e])==null?void 0:S[d])||s,x=l.useMemo(()=>m,Object.values(m));return i.jsx(g.Provider,{value:x,children:b})};u.displayName=c+"Provider";function p(h,f){var g;const b=((g=f==null?void 0:f[e])==null?void 0:g[d])||s,m=l.useContext(b);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${c}\``)}return[u,p]}const n=()=>{const c=r.map(a=>l.createContext(a));return function(s){const d=(s==null?void 0:s[e])||c;return l.useMemo(()=>({[`__scope${e}`]:{...s,[e]:d}}),[s,d])}};return n.scopeName=e,[o,ut(n,...t)]}function ut(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(c){const a=o.reduce((s,{useScope:d,scopeName:u})=>{const h=d(c)[`__scope${u}`];return{...s,...h}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Se=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},lt=Oe[" useInsertionEffect ".trim().toString()]||Se;function dt({prop:e,defaultProp:t,onChange:r=()=>{},caller:o}){const[n,c,a]=ft({defaultProp:t,onChange:r}),s=e!==void 0,d=s?e:n;{const p=l.useRef(e!==void 0);l.useEffect(()=>{const h=p.current;h!==s&&console.warn(`${o} is changing from ${h?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=s},[s,o])}const u=l.useCallback(p=>{var h;if(s){const f=pt(p)?p(e):p;f!==e&&((h=a.current)==null||h.call(a,f))}else c(p)},[s,e,c,a]);return[d,u]}function ft({defaultProp:e,onChange:t}){const[r,o]=l.useState(e),n=l.useRef(r),c=l.useRef(t);return lt(()=>{c.current=t},[t]),l.useEffect(()=>{var a;n.current!==r&&((a=c.current)==null||a.call(c,r),n.current=r)},[r,n]),[r,o,c]}function pt(e){return typeof e=="function"}function ht(e){const t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function mt(e){const[t,r]=l.useState(void 0);return Se(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const c=n[0];let a,s;if("borderBoxSize"in c){const d=c.borderBoxSize,u=Array.isArray(d)?d[0]:d;a=u.inlineSize,s=u.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),t}function bt(e){const t=vt(e),r=l.forwardRef((o,n)=>{const{children:c,...a}=o,s=l.Children.toArray(c),d=s.find(xt);if(d){const u=d.props.children,p=s.map(h=>h===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...a,ref:n,children:l.isValidElement(u)?l.cloneElement(u,void 0,p):null})}return i.jsx(t,{...a,ref:n,children:c})});return r.displayName=`${e}.Slot`,r}function vt(e){const t=l.forwardRef((r,o)=>{const{children:n,...c}=r;if(l.isValidElement(n)){const a=jt(n),s=St(c,n.props);return n.type!==l.Fragment&&(s.ref=o?ge(o,a):a),l.cloneElement(n,s)}return l.Children.count(n)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gt=Symbol("radix.slottable");function xt(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gt}function St(e,t){const r={...t};for(const o in t){const n=e[o],c=t[o];/^on[A-Z]/.test(o)?n&&c?r[o]=(...s)=>{c(...s),n(...s)}:n&&(r[o]=n):o==="style"?r[o]={...n,...c}:o==="className"&&(r[o]=[n,c].filter(Boolean).join(" "))}return{...e,...r}}function jt(e){var o,n;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=yt.reduce((e,t)=>{const r=bt(`Primitive.${t}`),o=l.forwardRef((n,c)=>{const{asChild:a,...s}=n,d=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...s,ref:c})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),E="Switch",[Tt,Vt]=ct(E),[Ct,wt]=Tt(E),ye=l.forwardRef((e,t)=>{const{__scopeSwitch:r,name:o,checked:n,defaultChecked:c,required:a,disabled:s,value:d="on",onCheckedChange:u,form:p,...h}=e,[f,b]=l.useState(null),m=xe(t,j=>b(j)),g=l.useRef(!1),x=f?p||!!f.closest("form"):!0,[S,T]=dt({prop:n,defaultProp:c??!1,onChange:u,caller:E});return i.jsxs(Ct,{scope:r,checked:S,disabled:s,children:[i.jsx(je.button,{type:"button",role:"switch","aria-checked":S,"aria-required":a,"data-state":_e(S),"data-disabled":s?"":void 0,disabled:s,value:d,...h,ref:m,onClick:at(e.onClick,j=>{T(_=>!_),x&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),x&&i.jsx(we,{control:f,bubbles:!g.current,name:o,value:d,checked:S,required:a,disabled:s,form:p,style:{transform:"translateX(-100%)"}})]})});ye.displayName=E;var Te="SwitchThumb",Ce=l.forwardRef((e,t)=>{const{__scopeSwitch:r,...o}=e,n=wt(Te,r);return i.jsx(je.span,{"data-state":_e(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:t})});Ce.displayName=Te;var _t="SwitchBubbleInput",we=l.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:o=!0,...n},c)=>{const a=l.useRef(null),s=xe(a,c),d=ht(r),u=mt(t);return l.useEffect(()=>{const p=a.current;if(!p)return;const h=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&b){const m=new Event("click",{bubbles:o});b.call(p,r),p.dispatchEvent(m)}},[d,r,o]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:s,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});we.displayName=_t;function _e(e){return e?"checked":"unchecked"}var Rt=ye,kt=Ce;function Pt({className:e,...t}){return i.jsx(Rt,{"data-slot":"switch",className:Q("peer data-[state=checked]:bg-blue-500 data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(kt,{"data-slot":"switch-thumb",className:Q("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Et=[{title:"Posts",href:"/posts"}];function Ut({posts:e}){var h;const{flash:t}=Ne().props;l.useEffect(()=>{t.success&&He.success(t.success)},[t]);const[r,o]=l.useState(!1),[n,c]=l.useState(null),a=l.useRef(it(f=>{O.get("/posts",{search:f},{preserveState:!0,replace:!0})},500)).current,s=f=>{c(f),o(!0)};function d(f){const b=f.target.value;a(b)}const u=()=>{n!==null&&(O.delete(route("posts.destroy",n),{preserveScroll:!0,preserveState:!0,only:["posts","flash"]}),o(!1))},p=f=>{O.put(route("posts.toggle-status",f),{},{preserveScroll:!0,preserveState:!0,only:["posts","flash"]})};return i.jsxs(i.Fragment,{children:[i.jsxs(Ue,{breadcrumbs:Et,children:[i.jsx(qe,{title:"Posts"}),i.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:i.jsxs("div",{className:"rounded border p-6 shadow-xl",children:[i.jsxs("div",{className:"mb-5 flex items-center justify-between",children:[i.jsxs("div",{className:"relative w-full sm:w-1/3",children:[i.jsx(We,{id:"search",className:"peer ps-9",placeholder:"Search...",type:"search",onChange:d}),i.jsx("div",{className:"text-muted-foreground/80 pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 peer-disabled:opacity-50",children:i.jsx(Me,{size:16,"aria-hidden":"true"})})]}),i.jsx(N,{children:i.jsx(J,{href:"/posts/create",prefetch:!0,children:"Create Post"})})]}),i.jsx(Be,{children:i.jsx(Le,{children:i.jsxs(Ge,{children:[i.jsx(Fe,{children:i.jsxs(Y,{children:[i.jsx(C,{children:"#"}),i.jsx(C,{children:"Image"}),i.jsx(C,{children:"Title"}),i.jsx(C,{children:"Content"}),i.jsx(C,{children:"Category"}),i.jsx(C,{children:"Status"}),i.jsx(C,{children:"Actions"})]})}),i.jsx(Ve,{children:(h=e.data)==null?void 0:h.map((f,b)=>{var m;return i.jsxs(Y,{children:[i.jsx(w,{children:b+1}),i.jsx(w,{children:i.jsx("img",{src:`/storage/${(m=f.media)==null?void 0:m.path}`,alt:f.title,className:"w-14 rounded"})}),i.jsx(w,{children:f.title}),i.jsx(w,{children:f.content.substring(0,50)}),i.jsx(w,{children:f.category}),i.jsx(w,{children:i.jsx(Pt,{className:"cursor-pointer",checked:f.status,onCheckedChange:()=>p(f.id)})}),i.jsxs(w,{className:"space-x-1",children:[i.jsx(N,{asChild:!0,size:"sm",children:i.jsx(J,{href:`/posts/${f.id}/edit`,prefetch:!0,children:i.jsx(De,{size:16})})}),i.jsx(N,{size:"sm",className:"bg-red-500 hover:bg-red-400 cursor-pointer",onClick:()=>s(f.id),children:i.jsx($e,{size:16})})]})]},f.id)})})]})})}),i.jsx(Ae,{meta:e})]})})]}),i.jsx(ze,{open:r,onClose:()=>o(!1),onConfirm:u,title:"Confirm Deletion",description:"Are you sure you want to delete this post?"})]})}export{Ut as default};
