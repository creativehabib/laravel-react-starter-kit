import{K as N,r as S,R as m,j as e,L as D,S as x}from"./app-C0__cboZ.js";import{A as y}from"./app-layout-DLVYu1Dq.js";import{B as C}from"./button-6gsqvWq2.js";import{V as h}from"./index-cQ2hWbuH.js";import{g as v}from"./employee-C_ZQLp6F.js";import{D as U}from"./delete-dialog-Dcnq2tuV.js";import{C as w,c as I}from"./card-BurX5Rmf.js";import{T as A,a as E,b as p,c as r,d as R,e as t}from"./table-WdEYgNyy.js";import{T as B}from"./toggle-CenYdD4B.js";import{S as L,T as k,I as z}from"./inertia-pagination-DwbzqtGF.js";import"./index-B9aNufLy.js";import"./index-BNU480j4.js";import"./index-D-mEUR51.js";import"./floating-ui.react-dom-DJtJjHQ-.js";import"./app-logo-icon-iN3wju9H.js";import"./dialog-kvsfZ5Ox.js";const H=[{title:"Users",href:"/users"}],ee=()=>{var n;const{flash:a,users:l}=N().props;S.useEffect(()=>{a.success&&h.success(a.success),a.error&&h.error(a.error)},[a]);const[u,o]=m.useState(!1),[i,j]=m.useState(null),f=s=>{j(s),o(!0)},g=()=>{i!==null&&(x.delete(route("users.destroy",i),{preserveScroll:!0,preserveState:!0,only:["users","flash"]}),o(!1))},b=s=>{x.post(route("users.toggle-status",s),{},{only:["users","flash"],preserveScroll:!0,preserveState:!1})};return e.jsxs(e.Fragment,{children:[e.jsxs(y,{breadcrumbs:H,children:[e.jsx(D,{title:"Users"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Users"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(C,{variant:"outline",className:"cursor-pointer",children:"Add User"})})]}),e.jsx(w,{children:e.jsx(I,{children:e.jsxs(A,{children:[e.jsx(E,{children:e.jsxs(p,{children:[e.jsx(r,{children:"#"}),e.jsx(r,{children:"Image"}),e.jsx(r,{children:"Name"}),e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Actions"})]})}),e.jsx(R,{children:l.data.length>0?(n=l.data)==null?void 0:n.map((s,T)=>{var c,d;return e.jsxs(p,{children:[e.jsx(t,{children:T+1}),e.jsx(t,{children:e.jsx("img",{src:v((c=s.media)==null?void 0:c.path,400,300,((d=s.media)==null?void 0:d.name)||"No Image"),alt:s.name,className:"w-12 rounded-full"})}),e.jsx(t,{children:s.name}),e.jsx(t,{children:s.email}),e.jsx(t,{children:e.jsx(B,{initial:s.status,onChange:()=>b(s.id)})}),e.jsxs(t,{className:"space-x-1",children:[e.jsx("button",{className:"rounded bg-blue-500 cursor-pointer px-3 py-1 text-white hover:bg-blue-600",children:e.jsx(L,{size:16})}),e.jsx("button",{className:"bg-red-500 hover:bg-red-400 cursor-pointer rounded px-3 py-1 text-white",onClick:()=>f(s.id),children:e.jsx(k,{size:16})})]})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center py-4",children:"No users found."})})})]})})}),e.jsx(z,{meta:l.meta})]})]}),e.jsx(U,{open:u,onClose:()=>o(!1),onConfirm:g,title:"Confirm Deletion",description:"Are you sure you want to delete this user?"})]})};export{ee as default};
