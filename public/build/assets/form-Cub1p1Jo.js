import{U as r,r as ot,j as s,m as De}from"./app-BkEg4a0J.js";import{c as it,B as vt}from"./button-Daj0ygBl.js";import{T as Te,a as Ee,D as Re,C as Ce,R as Oe,b as _e,P as je,O as $e}from"./index-CPTagznA.js";import{I as Y}from"./input-DlgA0gqc.js";import{L as bt,I as yt}from"./label-Dz54cYY1.js";import{T as _t}from"./textarea-Cmu_g-Vm.js";import{T as Ae}from"./toggle-GgE8bsjO.js";import{t as Ne}from"./employee-0YtnMp96.js";import"./index-C7oET5JS.js";function Pe(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Qt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),pt=()=>{const t=r.useContext(Qt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Pe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Me(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function Ie(){return It(/^Mac/)}function ke(){return It(/^iPhone/)}function qt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Be(){return It(/^iPad/)||Ie()&&navigator.maxTouchPoints>1}function Zt(){return ke()||Be()}function It(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const He=24,Le=typeof window<"u"?ot.useLayoutEffect:ot.useEffect;function Xt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}const jt=typeof document<"u"&&window.visualViewport;function Gt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function te(t){for(Gt(t)&&(t=t.parentElement);t&&!Gt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Fe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let xt=0,$t;function Ue(t={}){let{isDisabled:n}=t;Le(()=>{if(!n)return xt++,xt===1&&Zt()&&($t=ze()),()=>{xt--,xt===0&&($t==null||$t())}},[n])}function ze(){let t,n=0,e=w=>{t=te(w.target),!(t===document.documentElement&&t===document.body)&&(n=w.changedTouches[0].pageY)},o=w=>{if(!t||t===document.documentElement||t===document.body){w.preventDefault();return}let p=w.changedTouches[0].pageY,A=t.scrollTop,_=t.scrollHeight-t.clientHeight;_!==0&&((A<=0&&p>n||A>=_&&p<n)&&w.preventDefault(),n=p)},i=w=>{let p=w.target;Pt(p)&&p!==document.activeElement&&(w.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},a=w=>{let p=w.target;Pt(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",jt&&(jt.height<window.innerHeight?requestAnimationFrame(()=>{Kt(p)}):jt.addEventListener("resize",()=>Kt(p),{once:!0}))}))},b=()=>{window.scrollTo(0,0)},f=window.pageXOffset,x=window.pageYOffset,D=Xt(We(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let v=Xt(ft(document,"touchstart",e,{passive:!1,capture:!0}),ft(document,"touchmove",o,{passive:!1,capture:!0}),ft(document,"touchend",i,{passive:!1,capture:!0}),ft(document,"focus",a,!0),ft(window,"scroll",b));return()=>{D(),v(),window.scrollTo(f,x)}}function We(t,n,e){let o=t.style[n];return t.style[n]=e,()=>{t.style[n]=o}}function ft(t,n,e,o){return t.addEventListener(n,e,o),()=>{t.removeEventListener(n,e,o)}}function Kt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=te(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let o=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom;const b=e.getBoundingClientRect().bottom+He;a>b&&(e.scrollTop+=i-o)}t=e.parentElement}}function Pt(t){return t instanceof HTMLInputElement&&!Fe.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Ve(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Ye(...t){return n=>t.forEach(e=>Ve(e,n))}function ee(...t){return ot.useCallback(Ye(...t),t)}const ne=new WeakMap;function P(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let o={};Object.entries(n).forEach(([i,a])=>{if(i.startsWith("--")){t.style.setProperty(i,a);return}o[i]=t.style[i],t.style[i]=a}),!e&&ne.set(t,o)}function qe(t,n){if(!t||!(t instanceof HTMLElement))return;let e=ne.get(t);e&&(t.style[n]=e[n])}const $=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function St(t,n){if(!t)return null;const e=window.getComputedStyle(t),o=e.transform||e.webkitTransform||e.mozTransform;let i=o.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[$(n)?13:12]):(i=o.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[$(n)?5:4]):null)}function Xe(t){return 8*(Math.log(t+1)-2)}function At(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function Ge(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},re=.4,Ke=.25,Je=100,ae=8,Dt=16,Mt=26,Nt="vaul-dragging";function oe(t){const n=r.useRef(t);return r.useEffect(()=>{n.current=t}),r.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Qe({defaultProp:t,onChange:n}){const e=r.useState(t),[o]=e,i=r.useRef(o),a=oe(n);return r.useEffect(()=>{i.current!==o&&(a(o),i.current=o)},[o,i,a]),e}function ie({prop:t,defaultProp:n,onChange:e=()=>{}}){const[o,i]=Qe({defaultProp:n,onChange:e}),a=t!==void 0,b=a?t:o,f=oe(e),x=r.useCallback(D=>{if(a){const w=typeof D=="function"?D(t):D;w!==t&&f(w)}else i(D)},[a,t,i,f]);return[b,x]}function Ze({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:o,overlayRef:i,fadeFromIndex:a,onSnapPointChange:b,direction:f="bottom",container:x,snapToSequentialPoint:D}){const[v,w]=ie({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[p,A]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function m(){A({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const _=r.useMemo(()=>v===(e==null?void 0:e[e.length-1])||null,[e,v]),C=r.useMemo(()=>{var m;return(m=e==null?void 0:e.findIndex(T=>T===v))!=null?m:null},[e,v]),M=e&&e.length>0&&(a||a===0)&&!Number.isNaN(a)&&e[a]===v||!e,g=r.useMemo(()=>{const m=x?{width:x.getBoundingClientRect().width,height:x.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=e==null?void 0:e.map(S=>{const B=typeof S=="string";let I=0;if(B&&(I=parseInt(S,10)),$(f)){const c=B?I:p?S*m.height:0;return p?f==="bottom"?m.height-c:-m.height+c:c}const W=B?I:p?S*m.width:0;return p?f==="right"?m.width-W:-m.width+W:W}))!=null?T:[]},[e,p,x]),N=r.useMemo(()=>C!==null?g==null?void 0:g[C]:null,[g,C]),d=r.useCallback(m=>{var T;const S=(T=g==null?void 0:g.findIndex(B=>B===m))!=null?T:null;b(S),P(o.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(f)?`translate3d(0, ${m}px, 0)`:`translate3d(${m}px, 0, 0)`}),g&&S!==g.length-1&&a!==void 0&&S!==a&&S<a?P(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):P(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),w(e==null?void 0:e[Math.max(S,0)])},[o.current,e,g,a,i,w]);r.useEffect(()=>{if(v||t){var m;const T=(m=e==null?void 0:e.findIndex(S=>S===t||S===v))!=null?m:-1;g&&T!==-1&&typeof g[T]=="number"&&d(g[T])}},[v,t,e,g,d]);function u({draggedDistance:m,closeDrawer:T,velocity:S,dismissible:B}){if(a===void 0)return;const I=f==="bottom"||f==="right"?(N??0)-m:(N??0)+m,W=C===a-1,c=C===0,z=m>0;if(W&&P(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),!D&&S>2&&!z){B?T():d(g[0]);return}if(!D&&S>2&&z&&g&&e){d(g[e.length-1]);return}const H=g==null?void 0:g.reduce((k,G)=>typeof k!="number"||typeof G!="number"?k:Math.abs(G-I)<Math.abs(k-I)?G:k),V=$(f)?window.innerHeight:window.innerWidth;if(S>re&&Math.abs(m)<V*.4){const k=z?1:-1;if(k>0&&_&&e){d(g[e.length-1]);return}if(c&&k<0&&B&&T(),C===null)return;d(g[C+k]);return}d(H)}function F({draggedDistance:m}){if(N===null)return;const T=f==="bottom"||f==="right"?N-m:N+m;(f==="bottom"||f==="right")&&T<g[g.length-1]||(f==="top"||f==="left")&&T>g[g.length-1]||P(o.current,{transform:$(f)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function tt(m,T){if(!e||typeof C!="number"||!g||a===void 0)return null;const S=C===a-1;if(C>=a&&T)return 0;if(S&&!T)return 1;if(!M&&!S)return null;const I=S?C+1:C-1,W=S?g[I]-g[I-1]:g[I+1]-g[I],c=m/Math.abs(W);return S?1-c:c}return{isLastSnapPoint:_,activeSnapPoint:v,shouldFade:M,getPercentageDragged:tt,setActiveSnapPoint:w,activeSnapPointIndex:C,onRelease:u,onDrag:F,snapPointsOffset:g}}const tn=()=>()=>{};function en(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:o,noBodyStyles:i}=pt(),a=r.useRef(null),b=ot.useMemo(()=>document.body.style.backgroundColor,[]);function f(){return(window.innerWidth-Mt)/window.innerWidth}r.useEffect(()=>{if(n&&e){a.current&&clearTimeout(a.current);const x=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!x)return;Ge(o&&!i?At(document.body,{background:"black"}):tn,At(x,{transformOrigin:$(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`}));const D=At(x,{borderRadius:`${ae}px`,overflow:"hidden",...$(t)?{transform:`scale(${f()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${f()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{D(),a.current=window.setTimeout(()=>{b?document.body.style.background=b:document.body.style.removeProperty("background")},O.DURATION*1e3)}}},[n,e,b])}let mt=null;function nn({isOpen:t,modal:n,nested:e,hasBeenOpened:o,preventScrollRestoration:i,noBodyStyles:a}){const[b,f]=r.useState(()=>typeof window<"u"?window.location.href:""),x=r.useRef(0),D=r.useCallback(()=>{if(qt()&&mt===null&&t&&!a){mt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:w,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-x.current}px`,left:`${-w}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const A=p-window.innerHeight;A&&x.current>=p&&(document.body.style.top=`${-(x.current+A)}px`)}),300)}},[t]),v=r.useCallback(()=>{if(qt()&&mt!==null&&!a){const w=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,mt),window.requestAnimationFrame(()=>{if(i&&b!==window.location.href){f(window.location.href);return}window.scrollTo(p,w)}),mt=null}},[b]);return r.useEffect(()=>{function w(){x.current=window.scrollY}return w(),window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||v()}},[n,v]),r.useEffect(()=>{e||!o||(t?(!window.matchMedia("(display-mode: standalone)").matches&&D(),n||window.setTimeout(()=>{v()},500)):v())},[t,o,b,n,e,D,v]),{restorePositionSetting:v}}function rn({open:t,onOpenChange:n,children:e,onDrag:o,onRelease:i,snapPoints:a,shouldScaleBackground:b=!1,setBackgroundColorOnScale:f=!0,closeThreshold:x=Ke,scrollLockTimeout:D=Je,dismissible:v=!0,handleOnly:w=!1,fadeFromIndex:p=a&&a.length-1,activeSnapPoint:A,setActiveSnapPoint:_,fixed:C,modal:M=!0,onClose:g,nested:N,noBodyStyles:d=!1,direction:u="bottom",defaultOpen:F=!1,disablePreventScroll:tt=!0,snapToSequentialPoint:m=!1,preventScrollRestoration:T=!1,repositionInputs:S=!0,onAnimationEnd:B,container:I,autoFocus:W=!1}){var c,z;const[H=!1,V]=ie({defaultProp:F,prop:t,onChange:l=>{n==null||n(l),!l&&!N&&he(),setTimeout(()=>{B==null||B(l)},O.DURATION*1e3),l&&!M&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[k,G]=r.useState(!1),[K,st]=r.useState(!1),[ue,kt]=r.useState(!1),nt=r.useRef(null),ht=r.useRef(null),Tt=r.useRef(null),Et=r.useRef(null),lt=r.useRef(null),ut=r.useRef(!1),Rt=r.useRef(null),Ct=r.useRef(0),rt=r.useRef(!1),Bt=r.useRef(!F),Ht=r.useRef(0),h=r.useRef(null),Lt=r.useRef(((c=h.current)==null?void 0:c.getBoundingClientRect().height)||0),Ft=r.useRef(((z=h.current)==null?void 0:z.getBoundingClientRect().width)||0),Ot=r.useRef(0),ce=r.useCallback(l=>{a&&l===ct.length-1&&(ht.current=new Date)},[]),{activeSnapPoint:de,activeSnapPointIndex:at,setActiveSnapPoint:Ut,onRelease:fe,snapPointsOffset:ct,onDrag:me,shouldFade:zt,getPercentageDragged:pe}=Ze({snapPoints:a,activeSnapPointProp:A,setActiveSnapPointProp:_,drawerRef:h,fadeFromIndex:p,overlayRef:nt,onSnapPointChange:ce,direction:u,container:I,snapToSequentialPoint:m});Ue({isDisabled:!H||K||!M||ue||!k||!S||!tt});const{restorePositionSetting:he}=nn({isOpen:H,modal:M,nested:N??!1,hasBeenOpened:k,preventScrollRestoration:T,noBodyStyles:d});function wt(){return(window.innerWidth-Mt)/window.innerWidth}function we(l){var E,R;!v&&!a||h.current&&!h.current.contains(l.target)||(Lt.current=((E=h.current)==null?void 0:E.getBoundingClientRect().height)||0,Ft.current=((R=h.current)==null?void 0:R.getBoundingClientRect().width)||0,st(!0),Tt.current=new Date,Zt()&&window.addEventListener("touchend",()=>ut.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),Ct.current=$(u)?l.pageY:l.pageX)}function Wt(l,E){var R;let y=l;const j=(R=window.getSelection())==null?void 0:R.toString(),U=h.current?St(h.current,u):null,L=new Date;if(y.tagName==="SELECT"||y.hasAttribute("data-vaul-no-drag")||y.closest("[data-vaul-no-drag]"))return!1;if(u==="right"||u==="left")return!0;if(ht.current&&L.getTime()-ht.current.getTime()<500)return!1;if(U!==null&&(u==="bottom"?U>0:U<0))return!0;if(j&&j.length>0)return!1;if(lt.current&&L.getTime()-lt.current.getTime()<D&&U===0||E)return lt.current=L,!1;for(;y;){if(y.scrollHeight>y.clientHeight){if(y.scrollTop!==0)return lt.current=new Date,!1;if(y.getAttribute("role")==="dialog")return!0}y=y.parentNode}return!0}function ge(l){if(h.current&&K){const E=u==="bottom"||u==="right"?1:-1,R=(Ct.current-($(u)?l.pageY:l.pageX))*E,y=R>0,j=a&&!v&&!y;if(j&&at===0)return;const U=Math.abs(R),L=document.querySelector("[data-vaul-drawer-wrapper]"),J=u==="bottom"||u==="top"?Lt.current:Ft.current;let q=U/J;const et=pe(U,y);if(et!==null&&(q=et),j&&q>=1||!ut.current&&!Wt(l.target,y))return;if(h.current.classList.add(Nt),ut.current=!0,P(h.current,{transition:"none"}),P(nt.current,{transition:"none"}),a&&me({draggedDistance:R}),y&&!a){const X=Xe(R),gt=Math.min(X*-1,0)*E;P(h.current,{transform:$(u)?`translate3d(0, ${gt}px, 0)`:`translate3d(${gt}px, 0, 0)`});return}const Q=1-q;if((zt||p&&at===p-1)&&(o==null||o(l,q),P(nt.current,{opacity:`${Q}`,transition:"none"},!0)),L&&nt.current&&b){const X=Math.min(wt()+q*(1-wt()),1),gt=8-q*8,Yt=Math.max(0,14-q*14);P(L,{borderRadius:`${gt}px`,transform:$(u)?`scale(${X}) translate3d(0, ${Yt}px, 0)`:`scale(${X}) translate3d(${Yt}px, 0, 0)`,transition:"none"},!0)}if(!a){const X=U*E;P(h.current,{transform:$(u)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{Bt.current=!0})},[]),r.useEffect(()=>{var l;function E(){if(!h.current||!S)return;const R=document.activeElement;if(Pt(R)||rt.current){var y;const j=((y=window.visualViewport)==null?void 0:y.height)||0,U=window.innerHeight;let L=U-j;const J=h.current.getBoundingClientRect().height||0,q=J>U*.8;Ot.current||(Ot.current=J);const et=h.current.getBoundingClientRect().top;if(Math.abs(Ht.current-L)>60&&(rt.current=!rt.current),a&&a.length>0&&ct&&at){const Q=ct[at]||0;L+=Q}if(Ht.current=L,J>j||rt.current){const Q=h.current.getBoundingClientRect().height;let X=Q;Q>j&&(X=j-(q?et:Mt)),C?h.current.style.height=`${Q-Math.max(L,0)}px`:h.current.style.height=`${Math.max(X,j-et)}px`}else Me()||(h.current.style.height=`${Ot.current}px`);a&&a.length>0&&!rt.current?h.current.style.bottom="0px":h.current.style.bottom=`${Math.max(L,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",E),()=>{var R;return(R=window.visualViewport)==null?void 0:R.removeEventListener("resize",E)}},[at,a,ct]);function dt(l){ve(),g==null||g(),l||V(!1),setTimeout(()=>{a&&Ut(a[0])},O.DURATION*1e3)}function Vt(){if(!h.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),E=St(h.current,u);P(h.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),P(nt.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),b&&E&&E>0&&H&&P(l,{borderRadius:`${ae}px`,overflow:"hidden",...$(u)?{transform:`scale(${wt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${wt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function ve(){!K||!h.current||(h.current.classList.remove(Nt),ut.current=!1,st(!1),Et.current=new Date)}function be(l){if(!K||!h.current)return;h.current.classList.remove(Nt),ut.current=!1,st(!1),Et.current=new Date;const E=St(h.current,u);if(!l||!Wt(l.target,!1)||!E||Number.isNaN(E)||Tt.current===null)return;const R=Et.current.getTime()-Tt.current.getTime(),y=Ct.current-($(u)?l.pageY:l.pageX),j=Math.abs(y)/R;if(j>.05&&(kt(!0),setTimeout(()=>{kt(!1)},200)),a){fe({draggedDistance:y*(u==="bottom"||u==="right"?1:-1),closeDrawer:dt,velocity:j,dismissible:v}),i==null||i(l,!0);return}if(u==="bottom"||u==="right"?y>0:y<0){Vt(),i==null||i(l,!0);return}if(j>re){dt(),i==null||i(l,!1);return}var U;const L=Math.min((U=h.current.getBoundingClientRect().height)!=null?U:0,window.innerHeight);var J;const q=Math.min((J=h.current.getBoundingClientRect().width)!=null?J:0,window.innerWidth),et=u==="left"||u==="right";if(Math.abs(E)>=(et?q:L)*x){dt(),i==null||i(l,!1);return}i==null||i(l,!0),Vt()}r.useEffect(()=>(H&&(P(document.documentElement,{scrollBehavior:"auto"}),ht.current=new Date),()=>{qe(document.documentElement,"scrollBehavior")}),[H]);function ye(l){const E=l?(window.innerWidth-Dt)/window.innerWidth:1,R=l?-16:0;Rt.current&&window.clearTimeout(Rt.current),P(h.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(u)?`scale(${E}) translate3d(0, ${R}px, 0)`:`scale(${E}) translate3d(${R}px, 0, 0)`}),!l&&h.current&&(Rt.current=setTimeout(()=>{const y=St(h.current,u);P(h.current,{transition:"none",transform:$(u)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`})},500))}function xe(l,E){if(E<0)return;const R=(window.innerWidth-Dt)/window.innerWidth,y=R+E*(1-R),j=-16+E*Dt;P(h.current,{transform:$(u)?`scale(${y}) translate3d(0, ${j}px, 0)`:`scale(${y}) translate3d(${j}px, 0, 0)`,transition:"none"})}function Se(l,E){const R=$(u)?window.innerHeight:window.innerWidth,y=E?(R-Dt)/R:1,j=E?-16:0;E&&P(h.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(u)?`scale(${y}) translate3d(0, ${j}px, 0)`:`scale(${y}) translate3d(${j}px, 0, 0)`})}return r.useEffect(()=>{M||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[M]),r.createElement(Oe,{defaultOpen:F,onOpenChange:l=>{!v&&!l||(l?G(!0):dt(!0),V(l))},open:H},r.createElement(Qt.Provider,{value:{activeSnapPoint:de,snapPoints:a,setActiveSnapPoint:Ut,drawerRef:h,overlayRef:nt,onOpenChange:n,onPress:we,onRelease:be,onDrag:ge,dismissible:v,shouldAnimate:Bt,handleOnly:w,isOpen:H,isDragging:K,shouldFade:zt,closeDrawer:dt,onNestedDrag:xe,onNestedOpenChange:ye,onNestedRelease:Se,keyboardIsOpen:rt,modal:M,snapPointsOffset:ct,activeSnapPointIndex:at,direction:u,shouldScaleBackground:b,setBackgroundColorOnScale:f,noBodyStyles:d,container:I,autoFocus:W}},e))}const se=r.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:o,onRelease:i,shouldFade:a,isOpen:b,modal:f,shouldAnimate:x}=pt(),D=ee(n,e),v=o&&o.length>0;if(!f)return null;const w=r.useCallback(p=>i(p),[i]);return r.createElement($e,{onMouseUp:w,ref:D,"data-vaul-overlay":"","data-vaul-snap-points":b&&v?"true":"false","data-vaul-snap-points-overlay":b&&a?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...t})});se.displayName="Drawer.Overlay";const le=r.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...o},i){const{drawerRef:a,onPress:b,onRelease:f,onDrag:x,keyboardIsOpen:D,snapPointsOffset:v,activeSnapPointIndex:w,modal:p,isOpen:A,direction:_,snapPoints:C,container:M,handleOnly:g,shouldAnimate:N,autoFocus:d}=pt(),[u,F]=r.useState(!1),tt=ee(i,a),m=r.useRef(null),T=r.useRef(null),S=r.useRef(!1),B=C&&C.length>0;en();const I=(c,z,H=0)=>{if(S.current)return!0;const V=Math.abs(c.y),k=Math.abs(c.x),G=k>V,K=["bottom","right"].includes(z)?1:-1;if(z==="left"||z==="right"){if(!(c.x*K<0)&&k>=0&&k<=H)return G}else if(!(c.y*K<0)&&V>=0&&V<=H)return!G;return S.current=!0,!0};r.useEffect(()=>{B&&window.requestAnimationFrame(()=>{F(!0)})},[]);function W(c){m.current=null,S.current=!1,f(c)}return r.createElement(_e,{"data-vaul-drawer-direction":_,"data-vaul-drawer":"","data-vaul-delayed-snap-points":u?"true":"false","data-vaul-snap-points":A&&B?"true":"false","data-vaul-custom-container":M?"true":"false","data-vaul-animate":N!=null&&N.current?"true":"false",...o,ref:tt,style:v&&v.length>0?{"--snap-point-height":`${v[w??0]}px`,...n}:n,onPointerDown:c=>{g||(o.onPointerDown==null||o.onPointerDown.call(o,c),m.current={x:c.pageX,y:c.pageY},b(c))},onOpenAutoFocus:c=>{e==null||e(c),d||c.preventDefault()},onPointerDownOutside:c=>{if(t==null||t(c),!p||c.defaultPrevented){c.preventDefault();return}D.current&&(D.current=!1)},onFocusOutside:c=>{if(!p){c.preventDefault();return}},onPointerMove:c=>{if(T.current=c,g||(o.onPointerMove==null||o.onPointerMove.call(o,c),!m.current))return;const z=c.pageY-m.current.y,H=c.pageX-m.current.x,V=c.pointerType==="touch"?10:2;I({x:H,y:z},_,V)?x(c):(Math.abs(H)>V||Math.abs(z)>V)&&(m.current=null)},onPointerUp:c=>{o.onPointerUp==null||o.onPointerUp.call(o,c),m.current=null,S.current=!1,f(c)},onPointerOut:c=>{o.onPointerOut==null||o.onPointerOut.call(o,c),W(T.current)},onContextMenu:c=>{o.onContextMenu==null||o.onContextMenu.call(o,c),T.current&&W(T.current)}})});le.displayName="Drawer.Content";const an=250,on=120,sn=r.forwardRef(function({preventCycle:t=!1,children:n,...e},o){const{closeDrawer:i,isDragging:a,snapPoints:b,activeSnapPoint:f,setActiveSnapPoint:x,dismissible:D,handleOnly:v,isOpen:w,onPress:p,onDrag:A}=pt(),_=r.useRef(null),C=r.useRef(!1);function M(){if(C.current){d();return}window.setTimeout(()=>{g()},on)}function g(){if(a||t||C.current){d();return}if(d(),!b||b.length===0){D||i();return}if(f===b[b.length-1]&&D){i();return}const F=b.findIndex(m=>m===f);if(F===-1)return;const tt=b[F+1];x(tt)}function N(){_.current=window.setTimeout(()=>{C.current=!0},an)}function d(){_.current&&window.clearTimeout(_.current),C.current=!1}return r.createElement("div",{onClick:M,onPointerCancel:d,onPointerDown:u=>{v&&p(u),N()},onPointerMove:u=>{v&&A(u)},ref:o,"data-vaul-drawer-visible":w?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});sn.displayName="Drawer.Handle";function ln(t){const n=pt(),{container:e=n.container,...o}=t;return r.createElement(je,{container:e,...o})}const Z={Root:rn,Content:le,Overlay:se,Trigger:Te,Portal:ln,Close:Ce,Title:Ee,Description:Re};function un({...t}){return s.jsx(Z.Root,{"data-slot":"drawer",...t})}function cn({...t}){return s.jsx(Z.Trigger,{"data-slot":"drawer-trigger",...t})}function dn({...t}){return s.jsx(Z.Portal,{"data-slot":"drawer-portal",...t})}function Jt({...t}){return s.jsx(Z.Close,{"data-slot":"drawer-close",...t})}function fn({className:t,...n}){return s.jsx(Z.Overlay,{"data-slot":"drawer-overlay",className:it("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function mn({className:t,children:n,...e}){return s.jsxs(dn,{"data-slot":"drawer-portal",children:[s.jsx(fn,{}),s.jsxs(Z.Content,{"data-slot":"drawer-content",className:it("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...e,children:[s.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})]})}function pn({className:t,...n}){return s.jsx("div",{"data-slot":"drawer-header",className:it("flex flex-col gap-1.5 p-4",t),...n})}function hn({className:t,...n}){return s.jsx("div",{"data-slot":"drawer-footer",className:it("mt-auto flex flex-col gap-2 p-4",t),...n})}function wn({className:t,...n}){return s.jsx(Z.Title,{"data-slot":"drawer-title",className:it("text-foreground font-semibold",t),...n})}function gn({className:t,...n}){return s.jsx(Z.Description,{"data-slot":"drawer-description",className:it("text-muted-foreground text-sm",t),...n})}const vn={name:"",email:"",phone:"",position:"",department_id:"",designation_id:"",user_id:"",pf_number:"",joining_date:"",date_of_birth:"",blood_group:"",emergency_contact:"",employee_image:"",bank_account_number:"",bank_name:"",verify:"",status:!0,present_address:"",permanent_address:"",about:""};function On({employee:t=null,departments:n=[],designations:e=[],triggerLabel:o,onClose:i}){const a=!!t,[b,f]=ot.useState(!1),{data:x,setData:D,post:v,put:w,processing:p,reset:A,errors:_}=De(vn),C=[{id:"name",label:"Name",type:"text",component:Y},{id:"email",label:"Email",type:"email",component:Y},{id:"position",label:"Position",type:"text",component:Y},{id:"phone",label:"Phone",type:"text",component:Y},{id:"present_address",label:"Present Address",component:_t},{id:"permanent_address",label:"Permanent Address",component:_t},{id:"bank_account_number",label:"Bank Account Number",type:"text",component:Y},{id:"bank_name",label:"Bank Name",type:"text",component:Y},{id:"pf_number",label:"PF Number",type:"text",component:Y},{id:"date_of_birth",label:"Date of Birth",type:"date",component:Y},{id:"joining_date",label:"Joining Date",type:"date",component:Y},{id:"blood_group",label:"Blood Group",type:"text",component:Y},{id:"verify",label:"Verify",type:"text",component:Y},{id:"emergency_contact",label:"Emergency Contact",type:"text",component:Y},{id:"about",label:"About",component:_t}];ot.useEffect(()=>{t?(f(!0),f(!0),D(Ne(t))):Object.keys(_).length||(f(!1),A())},[t,_,A,D]);const M=d=>{const{name:u,value:F}=d.target;D(u,F)},g=d=>{d.preventDefault();const u=a?w:v,F=a?route("employees.update",t==null?void 0:t.id):route("employees.store");u(F,{onSuccess:()=>{A(),f(!1),i()}})},N=()=>{A(),f(!1),i()};return s.jsxs(un,{open:b,onOpenChange:d=>{f(d),d||i()},direction:"right",children:[s.jsx(cn,{asChild:!0,children:s.jsx(vt,{className:"cursor-pointer",variant:"outline",onClick:()=>{i(),A()},children:o})}),s.jsx(mn,{className:"h-screen w-full ml-auto",children:s.jsxs("form",{onSubmit:g,className:"flex flex-col h-full",children:[s.jsx(pn,{className:"border-b",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(wn,{children:[a?"Edit":"New"," Employee"]}),s.jsx(gn,{children:a?"Update employee details.":"Fill in employee details."})]}),s.jsx(Jt,{asChild:!0,children:s.jsx(vt,{size:"sm",className:"cursor-pointer",variant:"ghost",onClick:N,children:"âœ•"})})]})}),s.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[C.map(d=>{const u=d.component;return s.jsxs("div",{children:[s.jsx(bt,{htmlFor:d.id,className:"mb-4",children:d.label}),s.jsx(u,{id:d.id,name:d.id,value:x[d.id],onChange:M,type:d.type||"text"}),s.jsx(yt,{message:_[d.id]})]},d.id)}),s.jsxs("div",{children:[s.jsx(bt,{htmlFor:"department_id",children:"Department"}),s.jsxs("select",{id:"department_id",name:"department_id",value:x.department_id,onChange:M,className:"w-full border rounded-md p-2",children:[s.jsx("option",{value:"",children:"Select Department"}),n.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]}),s.jsx(yt,{message:_.department_id})]}),s.jsxs("div",{children:[s.jsx(bt,{htmlFor:"designation_id",children:"Designation"}),s.jsxs("select",{id:"designation_id",name:"designation_id",value:x.designation_id,onChange:M,className:"w-full border rounded-md p-2",children:[s.jsx("option",{value:"",children:"Select Designation"}),e.map(d=>s.jsx("option",{value:d.id,children:d.title},d.id))]}),s.jsx(yt,{message:_.designation_id})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{children:[s.jsx(bt,{htmlFor:"status",children:"Status"}),s.jsx(Ae,{initial:!!Number(x.status),onChange:d=>D("status",d)}),s.jsx(yt,{message:_.status})]})})]}),s.jsxs(hn,{className:"border-t pt-4",children:[s.jsx(vt,{type:"submit",disabled:p,children:p?"Saving...":a?"Update":"Save"}),s.jsx(Jt,{asChild:!0,children:s.jsx(vt,{type:"button",variant:"outline",onClick:N,children:"Cancel"})})]})]})})]})}export{On as EmployeeDrawer};
