import{m as p,j as e}from"./app-DRCHVdHn.js";import{L as l,I as n}from"./label-BYRbg8x0.js";import{B as F}from"./button-B5NM5FpF.js";import{C as N,c as D}from"./card-DmAiqTDN.js";import{I as L}from"./input-BslWWINn.js";import{S as u,a as j,b as g,c as v,d}from"./select-CkJUgJv2.js";import{T as P}from"./textarea-UIS_0pWe.js";import{S as T}from"./media-image-select-HmOD4Pkw.js";import{X as E}from"./index-CK2Wxhr2.js";import{L as V}from"./loader-circle-BvqpvuS3.js";import"./index-X5-kDwFZ.js";import"./floating-ui.react-dom-LYhZ6rrA.js";import"./check-COedR63i.js";import"./media-manager-CiK_FY4U.js";import"./dialog-BQMIFkhL.js";import"./index-CX57L1Vy.js";import"./delete-dialog-BayvfVmK.js";function W({post:t,onClose:o,onSuccess:c}){var h;const m=!!t,{data:i,setData:a,post:C,put:f,processing:x,errors:s}=p({title:(t==null?void 0:t.title)||"",category:(t==null?void 0:t.category)||"",status:((h=t==null?void 0:t.status)==null?void 0:h.toString())||"",content:(t==null?void 0:t.content)||"",media_id:(t==null?void 0:t.media_id)||null}),S=r=>{r.preventDefault();const b=m?f:C,I=m?route("posts.update",t.id):route("posts.store");b(I,{onSuccess:()=>{c==null||c(),o()}})},y=r=>{r.id!==void 0&&a("media_id",r.id)};return e.jsxs(N,{className:"p-4 relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-500",onClick:o,children:e.jsx(E,{size:18})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",children:"Title"}),e.jsx(L,{id:"title",value:i.title,onChange:r=>a("title",r.target.value)}),e.jsx(n,{message:s.title})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category",children:"Category"}),e.jsxs(u,{value:i.category,onValueChange:r=>a("category",r),children:[e.jsx(j,{id:"category",children:e.jsx(g,{placeholder:"Select Category"})}),e.jsxs(v,{children:[e.jsx(d,{value:"Marvel",children:"Marvel"}),e.jsx(d,{value:"DC",children:"DC"})]})]}),e.jsx(n,{message:s.category})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(u,{value:i.status,onValueChange:r=>a("status",r),children:[e.jsx(j,{id:"status",children:e.jsx(g,{placeholder:"Select Status"})}),e.jsxs(v,{children:[e.jsx(d,{value:"1",children:"Active"}),e.jsx(d,{value:"0",children:"Inactive"})]})]}),e.jsx(n,{message:s.status})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"content",children:"Content"}),e.jsx(P,{id:"content",rows:6,value:i.content,onChange:r=>a("content",r.target.value)}),e.jsx(n,{message:s.content})]}),e.jsx(T,{onSelect:y,initial:t==null?void 0:t.media}),e.jsx("div",{className:"text-end",children:e.jsxs(F,{type:"submit",disabled:x,children:[x&&e.jsx(V,{className:"mr-2 h-4 w-4 animate-spin"}),m?"Update Post":"Create Post"]})})]})})]})}export{W as default};
