import{r as j,m as S,j as r}from"./app-6L2TdTjd.js";import{D as F,a as _,b as I,c as T,d as U,e as k,f as b,g as A}from"./drawer-CS-D11Um.js";import{B as m}from"./button-CKwUDW5m.js";import{a as B}from"./employee-DLYSG5F-.js";import{S as O}from"./media-image-select-BHS_DAdu.js";import{L as P,I as L}from"./label-CIhJ6jdC.js";import{I as l}from"./input-DgBdhha7.js";import{T as R}from"./textarea-BAFM4eBi.js";import"./index-CHAnd_Ne.js";import"./index-Dqni-FrU.js";import"./media-manager-Ch3PbpYA.js";import"./dialog-BbHiNFEk.js";import"./index-rzp50--5.js";import"./delete-dialog-BLBNs4Fs.js";import"./search-tb5ZPMve.js";import"./loader-circle-DLlVetoR.js";const z={name:"",email:"",phone:"",status:!1,about:"",email_verified_at:"",created_at:"",updated_at:"",media_id:null},ae=({user:t=null,media:p=[],triggerLabel:y,onClose:i})=>{const[w,a]=j.useState(!1),s=!!t,{data:c,setData:d,put:g,post:v,processing:x,reset:o,errors:h}=S(z),D=[{id:"name",label:"Name",type:"text",component:l,placeholder:"Enter your name"},{id:"email",label:"Email",type:"email",component:l,placeholder:"Enter your email"},{id:"phone",label:"Phone",type:"text",component:l,placeholder:"Enter your phone number"},{id:"about",label:"About",component:R,placeholder:"Tell us about yourself"},{id:"password",label:"Password",type:"password",component:l,placeholder:"Enter your password"},{id:"password_confirmation",label:"Confirm Password",type:"password",component:l,placeholder:"Re-enter your password"}];j.useEffect(()=>{t?(a(!0),d(B(t))):Object.keys(h).length||(a(!1),o())},[t,d,o,h]);const N=e=>{const{name:n,value:u}=e.target;d(n,u)},C=e=>{(e==null?void 0:e.id)!==void 0&&d("media_id",(e==null?void 0:e.id)??null)},E=e=>{e.preventDefault();const n=s?g:v,u=s?route("users.update",t==null?void 0:t.id):route("users.store");n(u,{onSuccess:()=>{o(),a(!1),i()}})},f=()=>{a(!1),o(),i()};return console.log(c),r.jsxs(F,{open:w,onOpenChange:e=>{a(e),e||i()},direction:"right",children:[r.jsx(_,{asChild:!0,children:r.jsx(m,{className:"cursor-pointer",variant:"outline",onClick:()=>{i(),o()},children:y})}),r.jsx(I,{children:r.jsxs("form",{onSubmit:E,className:"flex flex-col h-full",children:[r.jsx(T,{className:"border-b",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs(U,{children:[s?"Edit":"New"," User"]}),r.jsx(k,{children:s?"Update user details.":"Fill in user details."})]}),r.jsx(b,{asChild:!0,children:r.jsx(m,{size:"sm",className:"cursor-pointer",variant:"ghost",onClick:f,children:"âœ•"})})]})}),r.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[D.map(e=>{const n=e.component;return r.jsxs("div",{children:[r.jsx(P,{htmlFor:e.id,className:"mb-4",children:e.label}),r.jsx(n,{id:e.id,name:e.id,value:c[e.id],onChange:N,placeholder:e.placeholder,type:e.type||"text"}),r.jsx(L,{message:h[e.id]})]},e.id)}),r.jsx("div",{className:"mt-4",children:r.jsx(O,{onSelect:C,initial:Array.isArray(p)&&p.length>0&&c.media_id?p.find(e=>e.id===Number(c.media_id)):void 0})})]}),r.jsxs(A,{className:"border-t pt-4",children:[r.jsx(m,{type:"submit",disabled:x,className:"cursor-pointer",variant:"outline",children:x?"Saving...":s?"Update":"Save"}),r.jsx(b,{asChild:!0,children:r.jsx(m,{type:"button",variant:"outline",onClick:f,className:"cursor-pointer",children:"Cancel"})})]})]})})]})};export{ae as default};
