import{j as s,c as I,g as Pe,r as l,t as Ee,K as Oe,S as O,L as qe,$ as Q}from"./app-CUKwKdYS.js";import{S as De,T as $e,I as Ae,D as Le}from"./inertia-pagination-CdnX-nPs.js";import{a as ze,c as w,V as Be,B as q}from"./index-Uz6cO5hy.js";import{C as We,a as Me}from"./card-DDu2Riug.js";import{I as Ge}from"./input-IQg-f395.js";import{A as Fe}from"./app-layout-DDOOlBOr.js";import"./index-CIuHaIjB.js";import"./dialog-DFFpX-EY.js";import"./index-XCcqrvHO.js";import"./index-BGu1bXD6.js";import"./app-logo-icon-DeO4LmAu.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ue=ze("Search",Ve);function He({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:w("w-full caption-bottom text-sm",e),...t})})}function Xe({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:w("[&_tr]:border-b",e),...t})}function Ke({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:w("[&_tr:last-child]:border-0",e),...t})}function Y({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:w("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function C({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:w("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function _({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:w("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}var D,ee;function be(){if(ee)return D;ee=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return D=e,D}var $,te;function Ze(){if(te)return $;te=1;var e=typeof I=="object"&&I&&I.Object===Object&&I;return $=e,$}var A,re;function me(){if(re)return A;re=1;var e=Ze(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return A=r,A}var L,ne;function Je(){if(ne)return L;ne=1;var e=me(),t=function(){return e.Date.now()};return L=t,L}var z,oe;function Qe(){if(oe)return z;oe=1;var e=/\s/;function t(r){for(var o=r.length;o--&&e.test(r.charAt(o)););return o}return z=t,z}var B,se;function Ye(){if(se)return B;se=1;var e=Qe(),t=/^\s+/;function r(o){return o&&o.slice(0,e(o)+1).replace(t,"")}return B=r,B}var W,ie;function xe(){if(ie)return W;ie=1;var e=me(),t=e.Symbol;return W=t,W}var M,ae;function et(){if(ae)return M;ae=1;var e=xe(),t=Object.prototype,r=t.hasOwnProperty,o=t.toString,n=e?e.toStringTag:void 0;function c(a){var i=r.call(a,n),d=a[n];try{a[n]=void 0;var u=!0}catch{}var h=o.call(a);return u&&(i?a[n]=d:delete a[n]),h}return M=c,M}var G,ce;function tt(){if(ce)return G;ce=1;var e=Object.prototype,t=e.toString;function r(o){return t.call(o)}return G=r,G}var F,ue;function rt(){if(ue)return F;ue=1;var e=xe(),t=et(),r=tt(),o="[object Null]",n="[object Undefined]",c=e?e.toStringTag:void 0;function a(i){return i==null?i===void 0?n:o:c&&c in Object(i)?t(i):r(i)}return F=a,F}var V,le;function nt(){if(le)return V;le=1;function e(t){return t!=null&&typeof t=="object"}return V=e,V}var U,de;function ot(){if(de)return U;de=1;var e=rt(),t=nt(),r="[object Symbol]";function o(n){return typeof n=="symbol"||t(n)&&e(n)==r}return U=o,U}var H,fe;function st(){if(fe)return H;fe=1;var e=Ye(),t=be(),r=ot(),o=NaN,n=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,a=/^0o[0-7]+$/i,i=parseInt;function d(u){if(typeof u=="number")return u;if(r(u))return o;if(t(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=t(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=c.test(u);return p||a.test(u)?i(u.slice(2),p?2:8):n.test(u)?o:+u}return H=d,H}var X,he;function it(){if(he)return X;he=1;var e=be(),t=Je(),r=st(),o="Expected a function",n=Math.max,c=Math.min;function a(i,d,u){var h,p,f,m,b,v,g=0,j=!1,T=!1,S=!0;if(typeof i!="function")throw new TypeError(o);d=r(d)||0,e(u)&&(j=!!u.leading,T="maxWait"in u,f=T?n(r(u.maxWait)||0,d):f,S="trailing"in u?!!u.trailing:S);function k(x){var y=h,R=p;return h=p=void 0,g=x,m=i.apply(R,y),m}function ke(x){return g=x,b=setTimeout(N,d),j?k(x):m}function Re(x){var y=x-v,R=x-g,J=d-y;return T?c(J,f-R):J}function K(x){var y=x-v,R=x-g;return v===void 0||y>=d||y<0||T&&R>=f}function N(){var x=t();if(K(x))return Z(x);b=setTimeout(N,Re(x))}function Z(x){return b=void 0,S&&h?k(x):(h=p=void 0,m)}function Ne(){b!==void 0&&clearTimeout(b),g=0,h=v=p=b=void 0}function Ie(){return b===void 0?m:Z(t())}function E(){var x=t(),y=K(x);if(h=arguments,p=this,v=x,y){if(b===void 0)return ke(v);if(T)return clearTimeout(b),b=setTimeout(N,d),k(v)}return b===void 0&&(b=setTimeout(N,d)),m}return E.cancel=Ne,E.flush=Ie,E}return X=a,X}var at=it();const ct=Pe(at);function ut(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function pe(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ve(...e){return t=>{let r=!1;const o=e.map(n=>{const c=pe(n,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let n=0;n<o.length;n++){const c=o[n];typeof c=="function"?c():pe(e[n],null)}}}}function ge(...e){return l.useCallback(ve(...e),e)}function lt(e,t=[]){let r=[];function o(c,a){const i=l.createContext(a),d=r.length;r=[...r,a];const u=p=>{var j;const{scope:f,children:m,...b}=p,v=((j=f==null?void 0:f[e])==null?void 0:j[d])||i,g=l.useMemo(()=>b,Object.values(b));return s.jsx(v.Provider,{value:g,children:m})};u.displayName=c+"Provider";function h(p,f){var v;const m=((v=f==null?void 0:f[e])==null?void 0:v[d])||i,b=l.useContext(m);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[u,h]}const n=()=>{const c=r.map(a=>l.createContext(a));return function(i){const d=(i==null?void 0:i[e])||c;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return n.scopeName=e,[o,dt(n,...t)]}function dt(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(c){const a=o.reduce((i,{useScope:d,scopeName:u})=>{const p=d(c)[`__scope${u}`];return{...i,...p}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var je=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},ft=Ee[" useInsertionEffect ".trim().toString()]||je;function ht({prop:e,defaultProp:t,onChange:r=()=>{},caller:o}){const[n,c,a]=pt({defaultProp:t,onChange:r}),i=e!==void 0,d=i?e:n;{const h=l.useRef(e!==void 0);l.useEffect(()=>{const p=h.current;p!==i&&console.warn(`${o} is changing from ${p?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=i},[i,o])}const u=l.useCallback(h=>{var p;if(i){const f=bt(h)?h(e):h;f!==e&&((p=a.current)==null||p.call(a,f))}else c(h)},[i,e,c,a]);return[d,u]}function pt({defaultProp:e,onChange:t}){const[r,o]=l.useState(e),n=l.useRef(r),c=l.useRef(t);return ft(()=>{c.current=t},[t]),l.useEffect(()=>{var a;n.current!==r&&((a=c.current)==null||a.call(c,r),n.current=r)},[r,n]),[r,o,c]}function bt(e){return typeof e=="function"}function mt(e){const t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function xt(e){const[t,r]=l.useState(void 0);return je(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const c=n[0];let a,i;if("borderBoxSize"in c){const d=c.borderBoxSize,u=Array.isArray(d)?d[0]:d;a=u.inlineSize,i=u.blockSize}else a=e.offsetWidth,i=e.offsetHeight;r({width:a,height:i})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),t}function vt(e){const t=gt(e),r=l.forwardRef((o,n)=>{const{children:c,...a}=o,i=l.Children.toArray(c),d=i.find(St);if(d){const u=d.props.children,h=i.map(p=>p===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...a,ref:n,children:l.isValidElement(u)?l.cloneElement(u,void 0,h):null})}return s.jsx(t,{...a,ref:n,children:c})});return r.displayName=`${e}.Slot`,r}function gt(e){const t=l.forwardRef((r,o)=>{const{children:n,...c}=r;if(l.isValidElement(n)){const a=wt(n),i=yt(c,n.props);return n.type!==l.Fragment&&(i.ref=o?ve(o,a):a),l.cloneElement(n,i)}return l.Children.count(n)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jt=Symbol("radix.slottable");function St(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jt}function yt(e,t){const r={...t};for(const o in t){const n=e[o],c=t[o];/^on[A-Z]/.test(o)?n&&c?r[o]=(...i)=>{c(...i),n(...i)}:n&&(r[o]=n):o==="style"?r[o]={...n,...c}:o==="className"&&(r[o]=[n,c].filter(Boolean).join(" "))}return{...e,...r}}function wt(e){var o,n;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Tt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=Tt.reduce((e,t)=>{const r=vt(`Primitive.${t}`),o=l.forwardRef((n,c)=>{const{asChild:a,...i}=n,d=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...i,ref:c})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),P="Switch",[Ct,Ft]=lt(P),[_t,kt]=Ct(P),ye=l.forwardRef((e,t)=>{const{__scopeSwitch:r,name:o,checked:n,defaultChecked:c,required:a,disabled:i,value:d="on",onCheckedChange:u,form:h,...p}=e,[f,m]=l.useState(null),b=ge(t,S=>m(S)),v=l.useRef(!1),g=f?h||!!f.closest("form"):!0,[j,T]=ht({prop:n,defaultProp:c??!1,onChange:u,caller:P});return s.jsxs(_t,{scope:r,checked:j,disabled:i,children:[s.jsx(Se.button,{type:"button",role:"switch","aria-checked":j,"aria-required":a,"data-state":_e(j),"data-disabled":i?"":void 0,disabled:i,value:d,...p,ref:b,onClick:ut(e.onClick,S=>{T(k=>!k),g&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),g&&s.jsx(Ce,{control:f,bubbles:!v.current,name:o,value:d,checked:j,required:a,disabled:i,form:h,style:{transform:"translateX(-100%)"}})]})});ye.displayName=P;var we="SwitchThumb",Te=l.forwardRef((e,t)=>{const{__scopeSwitch:r,...o}=e,n=kt(we,r);return s.jsx(Se.span,{"data-state":_e(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:t})});Te.displayName=we;var Rt="SwitchBubbleInput",Ce=l.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:o=!0,...n},c)=>{const a=l.useRef(null),i=ge(a,c),d=mt(r),u=xt(t);return l.useEffect(()=>{const h=a.current;if(!h)return;const p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&m){const b=new Event("click",{bubbles:o});m.call(h,r),h.dispatchEvent(b)}},[d,r,o]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:i,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ce.displayName=Rt;function _e(e){return e?"checked":"unchecked"}var Nt=ye,It=Te;function Pt({className:e,...t}){return s.jsx(Nt,{"data-slot":"switch",className:w("peer data-[state=checked]:bg-blue-500 data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(It,{"data-slot":"switch-thumb",className:w("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Et=[{title:"Posts",href:"/posts"}];function Vt({posts:e}){var p;const{flash:t}=Oe().props;l.useEffect(()=>{t.success&&Be.success(t.success)},[t]);const[r,o]=l.useState(!1),[n,c]=l.useState(null),a=l.useRef(ct(f=>{O.get("/posts",{search:f},{preserveState:!0,replace:!0})},500)).current,i=f=>{c(f),o(!0)};function d(f){const m=f.target.value;a(m)}const u=()=>{n!==null&&(O.delete(route("posts.destroy",n),{preserveScroll:!0,preserveState:!0,only:["posts","flash"]}),o(!1))},h=f=>{O.put(route("posts.toggle-status",f),{},{preserveScroll:!0,preserveState:!0,only:["posts","flash"]})};return s.jsxs(s.Fragment,{children:[s.jsxs(Fe,{breadcrumbs:Et,children:[s.jsx(qe,{title:"Posts"}),s.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:s.jsxs("div",{className:"rounded border p-6 shadow-xl",children:[s.jsxs("div",{className:"mb-5 flex items-center justify-between",children:[s.jsxs("div",{className:"relative w-full sm:w-1/3",children:[s.jsx(Ge,{id:"search",className:"peer ps-9",placeholder:"Search...",type:"search",onChange:d}),s.jsx("div",{className:"text-muted-foreground/80 pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 peer-disabled:opacity-50",children:s.jsx(Ue,{size:16,"aria-hidden":"true"})})]}),s.jsx(q,{children:s.jsx(Q,{href:"/posts/create",prefetch:!0,children:"Create Post"})})]}),s.jsx(We,{children:s.jsx(Me,{children:s.jsxs(He,{children:[s.jsx(Xe,{children:s.jsxs(Y,{children:[s.jsx(C,{children:"#"}),s.jsx(C,{children:"Image"}),s.jsx(C,{children:"Title"}),s.jsx(C,{children:"Content"}),s.jsx(C,{children:"Category"}),s.jsx(C,{children:"Status"}),s.jsx(C,{children:"Actions"})]})}),s.jsx(Ke,{children:(p=e.data)==null?void 0:p.map((f,m)=>s.jsxs(Y,{children:[s.jsx(_,{children:m+1}),s.jsx(_,{children:s.jsx("img",{src:`/storage/${f.image}`,alt:f.title,className:"w-14 rounded"})}),s.jsx(_,{children:f.title}),s.jsx(_,{children:f.content.substring(0,50)}),s.jsx(_,{children:f.category}),s.jsx(_,{children:s.jsx(Pt,{className:"cursor-pointer",checked:f.status,onCheckedChange:()=>h(f.id)})}),s.jsxs(_,{className:"space-x-1",children:[s.jsx(q,{asChild:!0,size:"sm",children:s.jsx(Q,{href:`/posts/${f.id}/edit`,prefetch:!0,children:s.jsx(De,{size:16})})}),s.jsx(q,{size:"sm",className:"bg-red-500 hover:bg-red-400 cursor-pointer",onClick:()=>i(f.id),children:s.jsx($e,{size:16})})]})]},f.id))})]})})}),s.jsx(Ae,{meta:e})]})})]}),s.jsx(Le,{open:r,onClose:()=>o(!1),onConfirm:u,title:"Confirm Deletion",description:"Are you sure you want to delete this post?"})]})}export{Vt as default};
