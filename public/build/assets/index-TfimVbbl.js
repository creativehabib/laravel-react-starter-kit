import{K as n,R as l,r as f,j as e,L as N,S as i}from"./app-gEeqfWsV.js";import{A as y}from"./app-layout-CwXrxuQ9.js";import{T as S}from"./toggle-loux8Yv7.js";import{V as c}from"./index-Bhta2kTC.js";import{T as D,I as v}from"./inertia-pagination-BgfXValK.js";import{S as C,D as w}from"./delete-dialog-BLnbMNly.js";import{BloodGroupsDialog as B}from"./form-Cxw9KYdn.js";import"./button-BrJKK_Up.js";import"./index-B8O15Jp6.js";import"./index-DpgCViur.js";import"./index-D60PApyi.js";import"./floating-ui.react-dom-Dudy5R_e.js";import"./app-logo-icon-CZETz0fr.js";import"./dialog-DW0DLHIu.js";import"./input-CsOS4pF1.js";import"./label-X3fhCJZN.js";import"./loader-circle-210M686l.js";const T=[{title:"Blood Groups",href:"/blood-groups"}],M=()=>{const{flash:s}=n().props,[p,a]=l.useState(null),{bloodGroups:r}=n().props,[x,o]=l.useState(!1),[d,u]=l.useState(null),m=t=>{a(t)},h=t=>{u(t),o(!0)},j=()=>{d!==null&&(i.delete(route("blood-groups.destroy",d),{preserveScroll:!0,preserveState:!0,only:["bloodGroups","flash"]}),o(!1))};f.useEffect(()=>{s!=null&&s.success&&c.success(s.success),s!=null&&s.error&&c.error(s.error)},[s]);const b=t=>{i.post(route("blood-groups.toggle-status",t),{},{preserveScroll:!0,preserveState:!0,only:["bloodGroups","flash"]})};return e.jsxs(e.Fragment,{children:[e.jsxs(y,{breadcrumbs:T,children:[e.jsx(N,{title:"Blood Groups"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"ml-auto",children:e.jsx(B,{bloodGroup:p,onClose:()=>a(null)})}),e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-700 text-white",children:[e.jsx("th",{className:"border p-2",children:"#"}),e.jsx("th",{className:"border p-2 text-start",children:"Blood Group"}),e.jsx("th",{className:"border p-2",children:"Status"}),e.jsx("th",{className:"border p-2",children:"Created At"}),e.jsx("th",{className:"border p-2",children:"Actions"})]})}),e.jsx("tbody",{children:r.data.length>0?r.data.map((t,g)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 text-center",children:r.meta.from+g}),e.jsx("td",{className:"border px-2 py-1",children:t.name}),e.jsx("td",{className:"border px-2 py-1 text-center",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(S,{initial:t.status,onChange:()=>b(t.id)})})}),e.jsx("td",{className:"border px-2 py-1 text-center",children:t.created_at}),e.jsxs("td",{className:"space-x-1 border px-2 py-1 text-center",children:[e.jsx("button",{className:"rounded bg-blue-500 cursor-pointer px-3 py-1 text-white hover:bg-blue-600",onClick:()=>m(t),children:e.jsx(C,{size:16})}),e.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded cursor-pointer hover:bg-red-600",onClick:()=>h(t.id),children:e.jsx(D,{size:16})})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"border px-2 py-4 text-center",children:"No blood groups found."})})})]}),e.jsx(v,{meta:r.meta})]})]})]}),e.jsx(w,{open:x,onClose:()=>o(!1),onConfirm:j,title:"Confirm Deletion",description:"Are you sure you want to delete this blood group?"})]})};export{M as default};
