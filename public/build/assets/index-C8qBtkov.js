import{K as n,r as o,j as e,L as b,S as d}from"./app-BItSAfHF.js";import{A as N}from"./app-layout-DABopOB9.js";import{DialogDemo as y}from"./designation-form-DIzzw-v0.js";import{V as c}from"./index-BgF2ZDIT.js";import{S as D,T as S,I as v,D as C}from"./delete-dialog-rt0HjEJ0.js";import{T as w}from"./toggle-tmI6RdTi.js";import"./button-YkZMCIIV.js";import"./index-CcEMnfTm.js";import"./index-CzOI2JqH.js";import"./x-Cth7qeIw.js";import"./createLucideIcon-CIYVBwCZ.js";import"./index-COJIhm8J.js";import"./dialog-C4PgODwe.js";import"./input-BcpuqCNP.js";import"./label-D1EeytcA.js";import"./textarea-1pXd6_i4.js";import"./loader-circle-C98F5C_7.js";const T=[{title:"Designations",href:"/designations"}];function J(){const{flash:s}=n().props,[p,l]=o.useState(null),{designations:r}=n().props,[x,a]=o.useState(!1),[i,m]=o.useState(null),u=t=>{l(t)},h=t=>{m(t),a(!0)},j=()=>{i!==null&&(d.delete(route("designations.destroy",i),{preserveScroll:!0,preserveState:!0,only:["designations","flash"]}),a(!1))},g=t=>{d.post(route("designations.toggle-status",t),{},{preserveScroll:!0,preserveState:!0,only:["designations","flash"]})};return o.useEffect(()=>{s!=null&&s.success&&c.success(s.success),s!=null&&s.error&&c.error(s.error)},[s]),e.jsxs(e.Fragment,{children:[e.jsxs(N,{breadcrumbs:T,children:[e.jsx(b,{title:"Designations"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"ml-auto",children:e.jsx(y,{designation:p,onClose:()=>l(null)})}),e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-700 text-white",children:[e.jsx("th",{className:"border p-2",children:"#"}),e.jsx("th",{className:"border p-2 text-start",children:"Name"}),e.jsx("th",{className:"border p-2",children:"Status"}),e.jsx("th",{className:"border p-2",children:"Created At"}),e.jsx("th",{className:"border p-2",children:"Action"})]})}),e.jsx("tbody",{children:r.data.length>0?r.data.map((t,f)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 text-center",children:r.meta.from+f}),e.jsx("td",{className:"border px-2 py-1",children:t.title}),e.jsx("td",{className:"w-fit border px-2 py-1 text-center",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(w,{initial:t.status,onChange:()=>g(t.id)})})}),e.jsx("td",{className:"border px-2 py-1 text-center",children:t.created_at}),e.jsxs("td",{className:"space-x-1 border px-2 py-1 text-center",children:[e.jsx("button",{className:"cursor-pointer rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",onClick:()=>u(t),children:e.jsx(D,{size:16})}),e.jsx("button",{className:"cursor-pointer rounded bg-red-500 px-3 py-1 text-white hover:bg-red-600",onClick:()=>h(t.id),children:e.jsx(S,{size:16})})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"border px-2 py-4 text-center",children:"No designation found."})})})]}),e.jsx("div",{className:"mb-2",children:e.jsx(v,{meta:r.meta})})]})]})]}),e.jsx(C,{open:x,onClose:()=>a(!1),onConfirm:j,title:"Confirm Deletion",description:"Are you sure you want to delete this designation?"})]})}export{J as default};
