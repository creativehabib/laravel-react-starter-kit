import{K as d,r as a,j as e,L as N,S as c}from"./app-6L2TdTjd.js";import{A as y}from"./app-layout-9plMdW0s.js";import{DialogDemo as D}from"./department-form-BrBpymEv.js";import{V as p}from"./index-rzp50--5.js";import{S,D as v}from"./delete-dialog-BLBNs4Fs.js";import{T as C,I as T}from"./inertia-pagination-Bk-CvKgq.js";import{T as w}from"./toggle-BMZNJA4e.js";import"./button-CKwUDW5m.js";import"./index-CHAnd_Ne.js";import"./index-Dqni-FrU.js";import"./index-WtDmyOGA.js";import"./floating-ui.react-dom-CxSLtaIU.js";import"./app-logo-icon-BcpSE4Sk.js";import"./dialog-BbHiNFEk.js";import"./input-DgBdhha7.js";import"./label-CIhJ6jdC.js";import"./textarea-BAFM4eBi.js";import"./loader-circle-DLlVetoR.js";const A=[{title:"Departments",href:"/departments"}];function Q(){var i;const{flash:r}=d().props,[m,l]=a.useState(null),{departments:s}=d().props,[x,o]=a.useState(!1),[n,h]=a.useState(null),u=t=>{l(t)},j=t=>{h(t),o(!0)},b=()=>{n!==null&&(c.delete(route("departments.destroy",n),{preserveScroll:!0,preserveState:!0,only:["departments","flash"]}),o(!1))},f=t=>{c.post(route("departments.toggle-status",t),{},{only:["departments","flash"],preserveScroll:!0,preserveState:!0})};return a.useEffect(()=>{r!=null&&r.success&&p.success(r.success),r!=null&&r.error&&p.error(r.error)},[r]),e.jsxs(e.Fragment,{children:[e.jsxs(y,{breadcrumbs:A,children:[e.jsx(N,{title:"Departments"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"ml-auto",children:e.jsx(D,{department:m,onClose:()=>l(null)})}),e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-700 text-white",children:[e.jsx("th",{className:"border p-2",children:"#"}),e.jsx("th",{className:"border p-2 text-start",children:"Name"}),e.jsx("th",{className:"border p-2",children:"Created By"}),e.jsx("th",{className:"border p-2",children:"Status"}),e.jsx("th",{className:"border p-2",children:"Created At"}),e.jsx("th",{className:"border p-2",children:"Action"})]})}),e.jsx("tbody",{children:s.data.length>0?(i=s.data)==null?void 0:i.map((t,g)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 text-center",children:s.meta.from+g}),e.jsx("td",{className:"border px-2 py-1",children:t.name}),e.jsx("td",{className:"border px-2 py-1",children:t.user.name}),e.jsx("td",{className:"border px-2 py-1 text-center",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(w,{initial:t.status,onChange:()=>f(t.id)})})}),e.jsx("td",{className:"border px-2 py-1 text-center",children:t.created_at}),e.jsxs("td",{className:"space-x-1 border px-2 py-1 text-center",children:[e.jsx("button",{className:"rounded bg-blue-500 cursor-pointer px-3 py-1 text-white hover:bg-blue-600",onClick:()=>u(t),children:e.jsx(S,{size:16})}),e.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded cursor-pointer hover:bg-red-600",onClick:()=>j(t.id),children:e.jsx(C,{size:16})})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"border px-2 py-4 text-center",children:"No department found."})})})]}),e.jsx("div",{className:"mb-2",children:e.jsx(T,{meta:s.meta})})]})]})]}),e.jsx(v,{open:x,onClose:()=>o(!1),onConfirm:b,title:"Confirm Deletion",description:"Are you sure you want to delete this department?"})]})}export{Q as default};
