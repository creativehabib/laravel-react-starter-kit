import{K as v,r as l,S as c,j as e,L as T,$ as N}from"./app-C0__cboZ.js";import{V as u}from"./index-cQ2hWbuH.js";import{d as D}from"./debounce-BqXte9KU.js";import{A as w}from"./app-layout-DLVYu1Dq.js";import{I as P}from"./input-D0aRZnYp.js";import{a as I,B as k}from"./button-6gsqvWq2.js";import{C as A,c as z}from"./card-BurX5Rmf.js";import{T as L,a as B,b as x,c as t,d as E,e as r}from"./table-WdEYgNyy.js";import{g as R}from"./employee-C_ZQLp6F.js";import{T as q}from"./toggle-CenYdD4B.js";import{S as H,T as M,I as V}from"./inertia-pagination-DwbzqtGF.js";import{D as _}from"./delete-dialog-Dcnq2tuV.js";import{S as $}from"./search-Bmm3acSs.js";import"./index-B9aNufLy.js";import"./index-BNU480j4.js";import"./index-D-mEUR51.js";import"./floating-ui.react-dom-DJtJjHQ-.js";import"./app-logo-icon-iN3wju9H.js";import"./dialog-kvsfZ5Ox.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],K=I("CirclePlus",F),O=[{title:"Posts",href:"/posts"}];function pe(){var p;const{flash:o,posts:n}=v().props;l.useEffect(()=>{o.success&&u.success(o.success),o.error&&u.error(o.error)},[o]);const[j,i]=l.useState(!1),[d,f]=l.useState(null),g=l.useRef(D(s=>{const a={};s.trim()!==""&&(a.search=s),c.get("/posts",a,{preserveState:!0,replace:!0})},500)).current,y=s=>{f(s),i(!0)},b=()=>{d!==null&&(c.delete(route("posts.destroy",d),{preserveScroll:!0,preserveState:!0,only:["posts","flash"]}),i(!1))};function S(s){const a=s.target.value;g(a)}const C=s=>{c.put(route("posts.toggle-status",s),{},{only:["posts","flash"],preserveScroll:!0,preserveState:!1})};return e.jsxs(e.Fragment,{children:[e.jsxs(w,{breadcrumbs:O,children:[e.jsx(T,{title:"Posts"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"relative w-full sm:w-1/3",children:[e.jsx(P,{id:"search",className:"peer ps-9",placeholder:"Search...",type:"text",onChange:S}),e.jsx("div",{className:"text-muted-foreground/80 pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 peer-disabled:opacity-50",children:e.jsx($,{size:16,"aria-hidden":"true"})})]}),e.jsx(N,{href:route("posts.create"),children:e.jsxs(k,{className:"cursor-pointer",variant:"outline",children:[e.jsx(K,{size:16}),"Add Post"]})})]}),e.jsx(A,{children:e.jsx(z,{children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsxs(x,{children:[e.jsx(t,{children:"#"}),e.jsx(t,{children:"Image"}),e.jsx(t,{children:"Title"}),e.jsx(t,{children:"Content"}),e.jsx(t,{children:"Category"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(E,{children:n.data.length>0?(p=n.data)==null?void 0:p.map((s,a)=>{var h,m;return e.jsxs(x,{children:[e.jsx(r,{children:a+1}),e.jsx(r,{children:e.jsx("img",{src:R((h=s.media)==null?void 0:h.path,400,300,((m=s.media)==null?void 0:m.name)||"No Image"),alt:s.title,className:"w-14 rounded"})}),e.jsx(r,{children:s.title}),e.jsx(r,{children:s.content.substring(0,50)}),e.jsx(r,{children:s.category}),e.jsx(r,{children:e.jsx(q,{initial:s.status,onChange:()=>C(s.id)})}),e.jsxs(r,{className:"space-x-1",children:[e.jsx("button",{className:"rounded bg-blue-500 cursor-pointer px-3 py-1 text-white hover:bg-blue-600",children:e.jsx(H,{size:16})}),e.jsx("button",{className:"bg-red-500 hover:bg-red-400 cursor-pointer rounded px-3 py-1 text-white",onClick:()=>y(s.id),children:e.jsx(M,{size:16})})]})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center py-4",children:"No posts found."})})})]})})}),e.jsx(V,{meta:n.meta})]})]}),e.jsx(_,{open:j,onClose:()=>i(!1),onConfirm:b,title:"Confirm Deletion",description:"Are you sure you want to delete this post?"})]})}export{pe as default};
