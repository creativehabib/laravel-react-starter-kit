import{U as a,r as it,j as r,m as Te}from"./app-D3cpTW01.js";import{c as st,B as bt}from"./button-C0Cwelmn.js";import{T as De,a as Ee,D as Re,C as Ce,R as je,b as Oe,P as _e,O as $e}from"./index-DaznpknI.js";import{I as xt}from"./input-EI-yKuVg.js";import{L as X,I as K}from"./label-CMpMGeGI.js";import{T as Ot}from"./textarea-CGgZm2JL.js";import{T as Ae}from"./toggle-DP9KS-bL.js";import"./index-D2thgS1Q.js";function Ne(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Qt=a.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ht=()=>{const t=a.useContext(Qt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Ne(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Pe(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function Me(){return It(/^Mac/)}function Ie(){return It(/^iPhone/)}function qt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ke(){return It(/^iPad/)||Me()&&navigator.maxTouchPoints>1}function Zt(){return Ie()||ke()}function It(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const He=24,Le=typeof window<"u"?it.useLayoutEffect:it.useEffect;function Xt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}const _t=typeof document<"u"&&window.visualViewport;function Kt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function te(t){for(Kt(t)&&(t=t.parentElement);t&&!Kt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Fe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let yt=0,$t;function Be(t={}){let{isDisabled:n}=t;Le(()=>{if(!n)return yt++,yt===1&&Zt()&&($t=Ue()),()=>{yt--,yt===0&&($t==null||$t())}},[n])}function Ue(){let t,n=0,e=w=>{t=te(w.target),!(t===document.documentElement&&t===document.body)&&(n=w.changedTouches[0].pageY)},i=w=>{if(!t||t===document.documentElement||t===document.body){w.preventDefault();return}let m=w.changedTouches[0].pageY,N=t.scrollTop,C=t.scrollHeight-t.clientHeight;C!==0&&((N<=0&&m>n||N>=C&&m<n)&&w.preventDefault(),n=m)},s=w=>{let m=w.target;Pt(m)&&m!==document.activeElement&&(w.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},o=w=>{let m=w.target;Pt(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",_t&&(_t.height<window.innerHeight?requestAnimationFrame(()=>{Gt(m)}):_t.addEventListener("resize",()=>Gt(m),{once:!0}))}))},x=()=>{window.scrollTo(0,0)},f=window.pageXOffset,g=window.pageYOffset,D=Xt(ze(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let v=Xt(mt(document,"touchstart",e,{passive:!1,capture:!0}),mt(document,"touchmove",i,{passive:!1,capture:!0}),mt(document,"touchend",s,{passive:!1,capture:!0}),mt(document,"focus",o,!0),mt(window,"scroll",x));return()=>{D(),v(),window.scrollTo(f,g)}}function ze(t,n,e){let i=t.style[n];return t.style[n]=e,()=>{t.style[n]=i}}function mt(t,n,e,i){return t.addEventListener(n,e,i),()=>{t.removeEventListener(n,e,i)}}function Gt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=te(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let i=e.getBoundingClientRect().top,s=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const x=e.getBoundingClientRect().bottom+He;o>x&&(e.scrollTop+=s-i)}t=e.parentElement}}function Pt(t){return t instanceof HTMLInputElement&&!Fe.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function We(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Ve(...t){return n=>t.forEach(e=>We(e,n))}function ee(...t){return it.useCallback(Ve(...t),t)}const ne=new WeakMap;function P(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let i={};Object.entries(n).forEach(([s,o])=>{if(s.startsWith("--")){t.style.setProperty(s,o);return}i[s]=t.style[s],t.style[s]=o}),!e&&ne.set(t,i)}function Ye(t,n){if(!t||!(t instanceof HTMLElement))return;let e=ne.get(t);e&&(t.style[n]=e[n])}const A=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function St(t,n){if(!t)return null;const e=window.getComputedStyle(t),i=e.transform||e.webkitTransform||e.mozTransform;let s=i.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[A(n)?13:12]):(s=i.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[A(n)?5:4]):null)}function qe(t){return 8*(Math.log(t+1)-2)}function At(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function Xe(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},re=.4,Ke=.25,Ge=100,ae=8,Tt=16,Mt=26,Nt="vaul-dragging";function oe(t){const n=a.useRef(t);return a.useEffect(()=>{n.current=t}),a.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Je({defaultProp:t,onChange:n}){const e=a.useState(t),[i]=e,s=a.useRef(i),o=oe(n);return a.useEffect(()=>{s.current!==i&&(o(i),s.current=i)},[i,s,o]),e}function ie({prop:t,defaultProp:n,onChange:e=()=>{}}){const[i,s]=Je({defaultProp:n,onChange:e}),o=t!==void 0,x=o?t:i,f=oe(e),g=a.useCallback(D=>{if(o){const w=typeof D=="function"?D(t):D;w!==t&&f(w)}else s(D)},[o,t,s,f]);return[x,g]}function Qe({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:i,overlayRef:s,fadeFromIndex:o,onSnapPointChange:x,direction:f="bottom",container:g,snapToSequentialPoint:D}){const[v,w]=ie({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[m,N]=a.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);a.useEffect(()=>{function c(){N({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const C=a.useMemo(()=>v===(e==null?void 0:e[e.length-1])||null,[e,v]),y=a.useMemo(()=>{var c;return(c=e==null?void 0:e.findIndex(E=>E===v))!=null?c:null},[e,v]),k=e&&e.length>0&&(o||o===0)&&!Number.isNaN(o)&&e[o]===v||!e,p=a.useMemo(()=>{const c=g?{width:g.getBoundingClientRect().width,height:g.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var E;return(E=e==null?void 0:e.map(T=>{const H=typeof T=="string";let M=0;if(H&&(M=parseInt(T,10)),A(f)){const u=H?M:m?T*c.height:0;return m?f==="bottom"?c.height-u:-c.height+u:u}const z=H?M:m?T*c.width:0;return m?f==="right"?c.width-z:-c.width+z:z}))!=null?E:[]},[e,m,g]),b=a.useMemo(()=>y!==null?p==null?void 0:p[y]:null,[p,y]),_=a.useCallback(c=>{var E;const T=(E=p==null?void 0:p.findIndex(H=>H===c))!=null?E:null;x(T),P(i.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:A(f)?`translate3d(0, ${c}px, 0)`:`translate3d(${c}px, 0, 0)`}),p&&T!==p.length-1&&o!==void 0&&T!==o&&T<o?P(s.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):P(s.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),w(e==null?void 0:e[Math.max(T,0)])},[i.current,e,p,o,s,w]);a.useEffect(()=>{if(v||t){var c;const E=(c=e==null?void 0:e.findIndex(T=>T===t||T===v))!=null?c:-1;p&&E!==-1&&typeof p[E]=="number"&&_(p[E])}},[v,t,e,p,_]);function d({draggedDistance:c,closeDrawer:E,velocity:T,dismissible:H}){if(o===void 0)return;const M=f==="bottom"||f==="right"?(b??0)-c:(b??0)+c,z=y===o-1,u=y===0,U=c>0;if(z&&P(s.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),!D&&T>2&&!U){H?E():_(p[0]);return}if(!D&&T>2&&U&&p&&e){_(p[e.length-1]);return}const L=p==null?void 0:p.reduce((I,G)=>typeof I!="number"||typeof G!="number"?I:Math.abs(G-M)<Math.abs(I-M)?G:I),W=A(f)?window.innerHeight:window.innerWidth;if(T>re&&Math.abs(c)<W*.4){const I=U?1:-1;if(I>0&&C&&e){_(p[e.length-1]);return}if(u&&I<0&&H&&E(),y===null)return;_(p[y+I]);return}_(L)}function Y({draggedDistance:c}){if(b===null)return;const E=f==="bottom"||f==="right"?b-c:b+c;(f==="bottom"||f==="right")&&E<p[p.length-1]||(f==="top"||f==="left")&&E>p[p.length-1]||P(i.current,{transform:A(f)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})}function et(c,E){if(!e||typeof y!="number"||!p||o===void 0)return null;const T=y===o-1;if(y>=o&&E)return 0;if(T&&!E)return 1;if(!k&&!T)return null;const M=T?y+1:y-1,z=T?p[M]-p[M-1]:p[M+1]-p[M],u=c/Math.abs(z);return T?1-u:u}return{isLastSnapPoint:C,activeSnapPoint:v,shouldFade:k,getPercentageDragged:et,setActiveSnapPoint:w,activeSnapPointIndex:y,onRelease:d,onDrag:Y,snapPointsOffset:p}}const Ze=()=>()=>{};function tn(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:i,noBodyStyles:s}=ht(),o=a.useRef(null),x=it.useMemo(()=>document.body.style.backgroundColor,[]);function f(){return(window.innerWidth-Mt)/window.innerWidth}a.useEffect(()=>{if(n&&e){o.current&&clearTimeout(o.current);const g=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!g)return;Xe(i&&!s?At(document.body,{background:"black"}):Ze,At(g,{transformOrigin:A(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`}));const D=At(g,{borderRadius:`${ae}px`,overflow:"hidden",...A(t)?{transform:`scale(${f()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${f()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{D(),o.current=window.setTimeout(()=>{x?document.body.style.background=x:document.body.style.removeProperty("background")},O.DURATION*1e3)}}},[n,e,x])}let pt=null;function en({isOpen:t,modal:n,nested:e,hasBeenOpened:i,preventScrollRestoration:s,noBodyStyles:o}){const[x,f]=a.useState(()=>typeof window<"u"?window.location.href:""),g=a.useRef(0),D=a.useCallback(()=>{if(qt()&&pt===null&&t&&!o){pt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:w,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-g.current}px`,left:`${-w}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const N=m-window.innerHeight;N&&g.current>=m&&(document.body.style.top=`${-(g.current+N)}px`)}),300)}},[t]),v=a.useCallback(()=>{if(qt()&&pt!==null&&!o){const w=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,pt),window.requestAnimationFrame(()=>{if(s&&x!==window.location.href){f(window.location.href);return}window.scrollTo(m,w)}),pt=null}},[x]);return a.useEffect(()=>{function w(){g.current=window.scrollY}return w(),window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)}},[]),a.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||v()}},[n,v]),a.useEffect(()=>{e||!i||(t?(!window.matchMedia("(display-mode: standalone)").matches&&D(),n||window.setTimeout(()=>{v()},500)):v())},[t,i,x,n,e,D,v]),{restorePositionSetting:v}}function nn({open:t,onOpenChange:n,children:e,onDrag:i,onRelease:s,snapPoints:o,shouldScaleBackground:x=!1,setBackgroundColorOnScale:f=!0,closeThreshold:g=Ke,scrollLockTimeout:D=Ge,dismissible:v=!0,handleOnly:w=!1,fadeFromIndex:m=o&&o.length-1,activeSnapPoint:N,setActiveSnapPoint:C,fixed:y,modal:k=!0,onClose:p,nested:b,noBodyStyles:_=!1,direction:d="bottom",defaultOpen:Y=!1,disablePreventScroll:et=!0,snapToSequentialPoint:c=!1,preventScrollRestoration:E=!1,repositionInputs:T=!0,onAnimationEnd:H,container:M,autoFocus:z=!1}){var u,U;const[L=!1,W]=ie({defaultProp:Y,prop:t,onChange:l=>{n==null||n(l),!l&&!b&&he(),setTimeout(()=>{H==null||H(l)},O.DURATION*1e3),l&&!k&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[I,G]=a.useState(!1),[J,lt]=a.useState(!1),[ue,kt]=a.useState(!1),rt=a.useRef(null),wt=a.useRef(null),Dt=a.useRef(null),Et=a.useRef(null),ut=a.useRef(null),dt=a.useRef(!1),Rt=a.useRef(null),Ct=a.useRef(0),at=a.useRef(!1),Ht=a.useRef(!Y),Lt=a.useRef(0),h=a.useRef(null),Ft=a.useRef(((u=h.current)==null?void 0:u.getBoundingClientRect().height)||0),Bt=a.useRef(((U=h.current)==null?void 0:U.getBoundingClientRect().width)||0),jt=a.useRef(0),de=a.useCallback(l=>{o&&l===ct.length-1&&(wt.current=new Date)},[]),{activeSnapPoint:ce,activeSnapPointIndex:ot,setActiveSnapPoint:Ut,onRelease:fe,snapPointsOffset:ct,onDrag:me,shouldFade:zt,getPercentageDragged:pe}=Qe({snapPoints:o,activeSnapPointProp:N,setActiveSnapPointProp:C,drawerRef:h,fadeFromIndex:m,overlayRef:rt,onSnapPointChange:de,direction:d,container:M,snapToSequentialPoint:c});Be({isDisabled:!L||J||!k||ue||!I||!T||!et});const{restorePositionSetting:he}=en({isOpen:L,modal:k,nested:b??!1,hasBeenOpened:I,preventScrollRestoration:E,noBodyStyles:_});function gt(){return(window.innerWidth-Mt)/window.innerWidth}function we(l){var R,j;!v&&!o||h.current&&!h.current.contains(l.target)||(Ft.current=((R=h.current)==null?void 0:R.getBoundingClientRect().height)||0,Bt.current=((j=h.current)==null?void 0:j.getBoundingClientRect().width)||0,lt(!0),Dt.current=new Date,Zt()&&window.addEventListener("touchend",()=>dt.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),Ct.current=A(d)?l.pageY:l.pageX)}function Wt(l,R){var j;let S=l;const $=(j=window.getSelection())==null?void 0:j.toString(),B=h.current?St(h.current,d):null,F=new Date;if(S.tagName==="SELECT"||S.hasAttribute("data-vaul-no-drag")||S.closest("[data-vaul-no-drag]"))return!1;if(d==="right"||d==="left")return!0;if(wt.current&&F.getTime()-wt.current.getTime()<500)return!1;if(B!==null&&(d==="bottom"?B>0:B<0))return!0;if($&&$.length>0)return!1;if(ut.current&&F.getTime()-ut.current.getTime()<D&&B===0||R)return ut.current=F,!1;for(;S;){if(S.scrollHeight>S.clientHeight){if(S.scrollTop!==0)return ut.current=new Date,!1;if(S.getAttribute("role")==="dialog")return!0}S=S.parentNode}return!0}function ge(l){if(h.current&&J){const R=d==="bottom"||d==="right"?1:-1,j=(Ct.current-(A(d)?l.pageY:l.pageX))*R,S=j>0,$=o&&!v&&!S;if($&&ot===0)return;const B=Math.abs(j),F=document.querySelector("[data-vaul-drawer-wrapper]"),Q=d==="bottom"||d==="top"?Ft.current:Bt.current;let V=B/Q;const nt=pe(B,S);if(nt!==null&&(V=nt),$&&V>=1||!dt.current&&!Wt(l.target,S))return;if(h.current.classList.add(Nt),dt.current=!0,P(h.current,{transition:"none"}),P(rt.current,{transition:"none"}),o&&me({draggedDistance:j}),S&&!o){const q=qe(j),vt=Math.min(q*-1,0)*R;P(h.current,{transform:A(d)?`translate3d(0, ${vt}px, 0)`:`translate3d(${vt}px, 0, 0)`});return}const Z=1-V;if((zt||m&&ot===m-1)&&(i==null||i(l,V),P(rt.current,{opacity:`${Z}`,transition:"none"},!0)),F&&rt.current&&x){const q=Math.min(gt()+V*(1-gt()),1),vt=8-V*8,Yt=Math.max(0,14-V*14);P(F,{borderRadius:`${vt}px`,transform:A(d)?`scale(${q}) translate3d(0, ${Yt}px, 0)`:`scale(${q}) translate3d(${Yt}px, 0, 0)`,transition:"none"},!0)}if(!o){const q=B*R;P(h.current,{transform:A(d)?`translate3d(0, ${q}px, 0)`:`translate3d(${q}px, 0, 0)`})}}}a.useEffect(()=>{window.requestAnimationFrame(()=>{Ht.current=!0})},[]),a.useEffect(()=>{var l;function R(){if(!h.current||!T)return;const j=document.activeElement;if(Pt(j)||at.current){var S;const $=((S=window.visualViewport)==null?void 0:S.height)||0,B=window.innerHeight;let F=B-$;const Q=h.current.getBoundingClientRect().height||0,V=Q>B*.8;jt.current||(jt.current=Q);const nt=h.current.getBoundingClientRect().top;if(Math.abs(Lt.current-F)>60&&(at.current=!at.current),o&&o.length>0&&ct&&ot){const Z=ct[ot]||0;F+=Z}if(Lt.current=F,Q>$||at.current){const Z=h.current.getBoundingClientRect().height;let q=Z;Z>$&&(q=$-(V?nt:Mt)),y?h.current.style.height=`${Z-Math.max(F,0)}px`:h.current.style.height=`${Math.max(q,$-nt)}px`}else Pe()||(h.current.style.height=`${jt.current}px`);o&&o.length>0&&!at.current?h.current.style.bottom="0px":h.current.style.bottom=`${Math.max(F,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",R),()=>{var j;return(j=window.visualViewport)==null?void 0:j.removeEventListener("resize",R)}},[ot,o,ct]);function ft(l){ve(),p==null||p(),l||W(!1),setTimeout(()=>{o&&Ut(o[0])},O.DURATION*1e3)}function Vt(){if(!h.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),R=St(h.current,d);P(h.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),P(rt.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),x&&R&&R>0&&L&&P(l,{borderRadius:`${ae}px`,overflow:"hidden",...A(d)?{transform:`scale(${gt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${gt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function ve(){!J||!h.current||(h.current.classList.remove(Nt),dt.current=!1,lt(!1),Et.current=new Date)}function be(l){if(!J||!h.current)return;h.current.classList.remove(Nt),dt.current=!1,lt(!1),Et.current=new Date;const R=St(h.current,d);if(!l||!Wt(l.target,!1)||!R||Number.isNaN(R)||Dt.current===null)return;const j=Et.current.getTime()-Dt.current.getTime(),S=Ct.current-(A(d)?l.pageY:l.pageX),$=Math.abs(S)/j;if($>.05&&(kt(!0),setTimeout(()=>{kt(!1)},200)),o){fe({draggedDistance:S*(d==="bottom"||d==="right"?1:-1),closeDrawer:ft,velocity:$,dismissible:v}),s==null||s(l,!0);return}if(d==="bottom"||d==="right"?S>0:S<0){Vt(),s==null||s(l,!0);return}if($>re){ft(),s==null||s(l,!1);return}var B;const F=Math.min((B=h.current.getBoundingClientRect().height)!=null?B:0,window.innerHeight);var Q;const V=Math.min((Q=h.current.getBoundingClientRect().width)!=null?Q:0,window.innerWidth),nt=d==="left"||d==="right";if(Math.abs(R)>=(nt?V:F)*g){ft(),s==null||s(l,!1);return}s==null||s(l,!0),Vt()}a.useEffect(()=>(L&&(P(document.documentElement,{scrollBehavior:"auto"}),wt.current=new Date),()=>{Ye(document.documentElement,"scrollBehavior")}),[L]);function xe(l){const R=l?(window.innerWidth-Tt)/window.innerWidth:1,j=l?-16:0;Rt.current&&window.clearTimeout(Rt.current),P(h.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:A(d)?`scale(${R}) translate3d(0, ${j}px, 0)`:`scale(${R}) translate3d(${j}px, 0, 0)`}),!l&&h.current&&(Rt.current=setTimeout(()=>{const S=St(h.current,d);P(h.current,{transition:"none",transform:A(d)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`})},500))}function ye(l,R){if(R<0)return;const j=(window.innerWidth-Tt)/window.innerWidth,S=j+R*(1-j),$=-16+R*Tt;P(h.current,{transform:A(d)?`scale(${S}) translate3d(0, ${$}px, 0)`:`scale(${S}) translate3d(${$}px, 0, 0)`,transition:"none"})}function Se(l,R){const j=A(d)?window.innerHeight:window.innerWidth,S=R?(j-Tt)/j:1,$=R?-16:0;R&&P(h.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:A(d)?`scale(${S}) translate3d(0, ${$}px, 0)`:`scale(${S}) translate3d(${$}px, 0, 0)`})}return a.useEffect(()=>{k||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[k]),a.createElement(je,{defaultOpen:Y,onOpenChange:l=>{!v&&!l||(l?G(!0):ft(!0),W(l))},open:L},a.createElement(Qt.Provider,{value:{activeSnapPoint:ce,snapPoints:o,setActiveSnapPoint:Ut,drawerRef:h,overlayRef:rt,onOpenChange:n,onPress:we,onRelease:be,onDrag:ge,dismissible:v,shouldAnimate:Ht,handleOnly:w,isOpen:L,isDragging:J,shouldFade:zt,closeDrawer:ft,onNestedDrag:ye,onNestedOpenChange:xe,onNestedRelease:Se,keyboardIsOpen:at,modal:k,snapPointsOffset:ct,activeSnapPointIndex:ot,direction:d,shouldScaleBackground:x,setBackgroundColorOnScale:f,noBodyStyles:_,container:M,autoFocus:z}},e))}const se=a.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:i,onRelease:s,shouldFade:o,isOpen:x,modal:f,shouldAnimate:g}=ht(),D=ee(n,e),v=i&&i.length>0;if(!f)return null;const w=a.useCallback(m=>s(m),[s]);return a.createElement($e,{onMouseUp:w,ref:D,"data-vaul-overlay":"","data-vaul-snap-points":x&&v?"true":"false","data-vaul-snap-points-overlay":x&&o?"true":"false","data-vaul-animate":g!=null&&g.current?"true":"false",...t})});se.displayName="Drawer.Overlay";const le=a.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...i},s){const{drawerRef:o,onPress:x,onRelease:f,onDrag:g,keyboardIsOpen:D,snapPointsOffset:v,activeSnapPointIndex:w,modal:m,isOpen:N,direction:C,snapPoints:y,container:k,handleOnly:p,shouldAnimate:b,autoFocus:_}=ht(),[d,Y]=a.useState(!1),et=ee(s,o),c=a.useRef(null),E=a.useRef(null),T=a.useRef(!1),H=y&&y.length>0;tn();const M=(u,U,L=0)=>{if(T.current)return!0;const W=Math.abs(u.y),I=Math.abs(u.x),G=I>W,J=["bottom","right"].includes(U)?1:-1;if(U==="left"||U==="right"){if(!(u.x*J<0)&&I>=0&&I<=L)return G}else if(!(u.y*J<0)&&W>=0&&W<=L)return!G;return T.current=!0,!0};a.useEffect(()=>{H&&window.requestAnimationFrame(()=>{Y(!0)})},[]);function z(u){c.current=null,T.current=!1,f(u)}return a.createElement(Oe,{"data-vaul-drawer-direction":C,"data-vaul-drawer":"","data-vaul-delayed-snap-points":d?"true":"false","data-vaul-snap-points":N&&H?"true":"false","data-vaul-custom-container":k?"true":"false","data-vaul-animate":b!=null&&b.current?"true":"false",...i,ref:et,style:v&&v.length>0?{"--snap-point-height":`${v[w??0]}px`,...n}:n,onPointerDown:u=>{p||(i.onPointerDown==null||i.onPointerDown.call(i,u),c.current={x:u.pageX,y:u.pageY},x(u))},onOpenAutoFocus:u=>{e==null||e(u),_||u.preventDefault()},onPointerDownOutside:u=>{if(t==null||t(u),!m||u.defaultPrevented){u.preventDefault();return}D.current&&(D.current=!1)},onFocusOutside:u=>{if(!m){u.preventDefault();return}},onPointerMove:u=>{if(E.current=u,p||(i.onPointerMove==null||i.onPointerMove.call(i,u),!c.current))return;const U=u.pageY-c.current.y,L=u.pageX-c.current.x,W=u.pointerType==="touch"?10:2;M({x:L,y:U},C,W)?g(u):(Math.abs(L)>W||Math.abs(U)>W)&&(c.current=null)},onPointerUp:u=>{i.onPointerUp==null||i.onPointerUp.call(i,u),c.current=null,T.current=!1,f(u)},onPointerOut:u=>{i.onPointerOut==null||i.onPointerOut.call(i,u),z(E.current)},onContextMenu:u=>{i.onContextMenu==null||i.onContextMenu.call(i,u),E.current&&z(E.current)}})});le.displayName="Drawer.Content";const rn=250,an=120,on=a.forwardRef(function({preventCycle:t=!1,children:n,...e},i){const{closeDrawer:s,isDragging:o,snapPoints:x,activeSnapPoint:f,setActiveSnapPoint:g,dismissible:D,handleOnly:v,isOpen:w,onPress:m,onDrag:N}=ht(),C=a.useRef(null),y=a.useRef(!1);function k(){if(y.current){_();return}window.setTimeout(()=>{p()},an)}function p(){if(o||t||y.current){_();return}if(_(),!x||x.length===0){D||s();return}if(f===x[x.length-1]&&D){s();return}const Y=x.findIndex(c=>c===f);if(Y===-1)return;const et=x[Y+1];g(et)}function b(){C.current=window.setTimeout(()=>{y.current=!0},rn)}function _(){C.current&&window.clearTimeout(C.current),y.current=!1}return a.createElement("div",{onClick:k,onPointerCancel:_,onPointerDown:d=>{v&&m(d),b()},onPointerMove:d=>{v&&N(d)},ref:i,"data-vaul-drawer-visible":w?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},a.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});on.displayName="Drawer.Handle";function sn(t){const n=ht(),{container:e=n.container,...i}=t;return a.createElement(_e,{container:e,...i})}const tt={Root:nn,Content:le,Overlay:se,Trigger:De,Portal:sn,Close:Ce,Title:Ee,Description:Re};function ln({...t}){return r.jsx(tt.Root,{"data-slot":"drawer",...t})}function un({...t}){return r.jsx(tt.Trigger,{"data-slot":"drawer-trigger",...t})}function dn({...t}){return r.jsx(tt.Portal,{"data-slot":"drawer-portal",...t})}function Jt({...t}){return r.jsx(tt.Close,{"data-slot":"drawer-close",...t})}function cn({className:t,...n}){return r.jsx(tt.Overlay,{"data-slot":"drawer-overlay",className:st("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function fn({className:t,children:n,...e}){return r.jsxs(dn,{"data-slot":"drawer-portal",children:[r.jsx(cn,{}),r.jsxs(tt.Content,{"data-slot":"drawer-content",className:st("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...e,children:[r.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})]})}function mn({className:t,...n}){return r.jsx("div",{"data-slot":"drawer-header",className:st("flex flex-col gap-1.5 p-4",t),...n})}function pn({className:t,...n}){return r.jsx("div",{"data-slot":"drawer-footer",className:st("mt-auto flex flex-col gap-2 p-4",t),...n})}function hn({className:t,...n}){return r.jsx(tt.Title,{"data-slot":"drawer-title",className:st("text-foreground font-semibold",t),...n})}function wn({className:t,...n}){return r.jsx(tt.Description,{"data-slot":"drawer-description",className:st("text-muted-foreground text-sm",t),...n})}function En({employee:t=null,departments:n=[],designations:e=[],triggerLabel:i,onClose:s}){const o=!!t,[x,f]=it.useState(!1),{data:g,setData:D,post:v,put:w,processing:m,reset:N,errors:C}=Te({name:"",email:"",position:"",about:"",department_id:"",designation_id:"",status:!0,phone:"",present_address:"",permanent_address:""});it.useEffect(()=>{t?(f(!0),D({name:t.name??"",email:t.email??"",position:t.position??"",about:t.about??"",department_id:t.department_id??"",designation_id:t.designation_id??"",status:t.status??!0,phone:t.phone??"",present_address:t.present_address??"",permanent_address:t.permanent_address??""})):Object.keys(C).length||(f(!1),N())},[t,C,N,D]);const y=b=>{const{name:_,type:d}=b.target;D(_,d==="checkbox"?b.target.checked?"true":!1:b.target.value)},k=b=>{b.preventDefault();const _=o?w:v,d=o?route("employees.update",t==null?void 0:t.id):route("employees.store");_(d,{onSuccess:()=>{N(),f(!1),s()}})},p=()=>{N(),f(!1),s()};return r.jsxs(ln,{open:x,onOpenChange:b=>{f(b),b||s()},direction:"right",children:[r.jsx(un,{asChild:!0,children:r.jsx(bt,{className:"cursor-pointer",variant:"outline",onClick:()=>{s(),N()},children:i})}),r.jsx(fn,{className:"h-screen w-full ml-auto",children:r.jsxs("form",{onSubmit:k,className:"flex flex-col h-full",children:[r.jsx(mn,{className:"border-b",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs(hn,{children:[o?"Edit":"New"," Employee"]}),r.jsx(wn,{children:o?"Update employee details.":"Fill in employee details."})]}),r.jsx(Jt,{asChild:!0,children:r.jsx(bt,{size:"sm",className:"cursor-pointer",variant:"ghost",onClick:p,children:"✕"})})]})}),r.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx(X,{htmlFor:"name",children:"Name"}),r.jsx(xt,{id:"name",name:"name",value:g.name,onChange:y}),r.jsx(K,{message:C.name})]}),r.jsxs("div",{children:[r.jsx(X,{htmlFor:"email",children:"Email"}),r.jsx(xt,{id:"email",name:"email",type:"email",value:g.email,onChange:y}),r.jsx(K,{message:C.email})]}),r.jsxs("div",{children:[r.jsx(X,{htmlFor:"position",children:"Position"}),r.jsx(xt,{id:"position",name:"position",value:g.position,onChange:y}),r.jsx(K,{message:C.position})]}),r.jsxs("div",{children:[r.jsx(X,{htmlFor:"phone",children:"Phone"}),r.jsx(xt,{id:"phone",name:"phone",value:g.phone,onChange:y}),r.jsx(K,{message:C.phone})]}),r.jsxs("div",{children:[r.jsx(X,{htmlFor:"present_address",children:"Present Address"}),r.jsx(Ot,{id:"present_address",name:"present_address",value:g.present_address,onChange:y}),r.jsx(K,{message:C.present_address})]}),r.jsxs("div",{children:[r.jsx(X,{htmlFor:"permanent_address",children:"Permanent Address"}),r.jsx(Ot,{id:"permanent_address",name:"permanent_address",value:g.permanent_address,onChange:y}),r.jsx(K,{message:C.permanent_address})]}),r.jsxs("div",{children:[r.jsx(X,{htmlFor:"about",children:"About"}),r.jsx(Ot,{id:"about",name:"about",value:g.about,onChange:y}),r.jsx(K,{message:C.about})]}),r.jsxs("div",{children:[r.jsx(X,{htmlFor:"department_id",children:"Department"}),r.jsxs("select",{id:"department_id",name:"department_id",value:g.department_id,onChange:y,className:"w-full border rounded-md p-2",children:[r.jsx("option",{value:"",children:"Select Department"}),n.map(b=>r.jsx("option",{value:b.id,children:b.name},b.id))]}),r.jsx(K,{message:C.department_id})]}),r.jsxs("div",{children:[r.jsx(X,{htmlFor:"designation_id",children:"Department"}),r.jsxs("select",{id:"designation_id",name:"designation_id",value:g.designation_id,onChange:y,className:"w-full border rounded-md p-2",children:[r.jsx("option",{value:"",children:"Select Department"}),e.map(b=>r.jsx("option",{value:b.id,children:b.title},b.id))]}),r.jsx(K,{message:C.designation_id})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("div",{children:[r.jsx(X,{htmlFor:"status",children:"Status"}),r.jsx(Ae,{initial:!!Number(g.status),onChange:b=>D("status",b)}),r.jsx(K,{message:C.status})]})})]}),r.jsxs(pn,{className:"border-t pt-4",children:[r.jsx(bt,{type:"submit",disabled:m,children:m?"Saving...":o?"Update":"Save"}),r.jsx(Jt,{asChild:!0,children:r.jsx(bt,{type:"button",variant:"outline",onClick:p,children:"Cancel"})})]})]})})]})}export{En as EmployeeDrawer};
