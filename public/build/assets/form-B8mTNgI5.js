import{U as a,r as rt,j as r,K as De,m as Ee}from"./app-BW6qaxIR.js";import{c as st,B as xt}from"./button-D5ThlYPP.js";import{T as Re,a as Ce,D as je,C as Oe,R as _e,b as $e,P as Ae,O as Pe}from"./index-DvABi195.js";import{I as mt}from"./input-B9m3gF9v.js";import{L as K,I as J}from"./label-CSKtuH6y.js";import{T as Ot}from"./textarea-DtQB43sc.js";import{V as qt}from"./index-Di7E4NpJ.js";import"./index-DCwRfiqn.js";function Ne(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Zt=a.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),wt=()=>{const t=a.useContext(Zt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Ne(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Me(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function Ie(){return It(/^Mac/)}function ke(){return It(/^iPhone/)}function Xt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function He(){return It(/^iPad/)||Ie()&&navigator.maxTouchPoints>1}function te(){return ke()||He()}function It(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Fe=24,Le=typeof window<"u"?rt.useLayoutEffect:rt.useEffect;function Kt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}const _t=typeof document<"u"&&window.visualViewport;function Gt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function ee(t){for(Gt(t)&&(t=t.parentElement);t&&!Gt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Be=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let yt=0,$t;function Ue(t={}){let{isDisabled:n}=t;Le(()=>{if(!n)return yt++,yt===1&&te()&&($t=ze()),()=>{yt--,yt===0&&($t==null||$t())}},[n])}function ze(){let t,n=0,e=m=>{t=ee(m.target),!(t===document.documentElement&&t===document.body)&&(n=m.changedTouches[0].pageY)},i=m=>{if(!t||t===document.documentElement||t===document.body){m.preventDefault();return}let g=m.changedTouches[0].pageY,k=t.scrollTop,N=t.scrollHeight-t.clientHeight;N!==0&&((k<=0&&g>n||k>=N&&g<n)&&m.preventDefault(),n=g)},l=m=>{let g=m.target;Nt(g)&&g!==document.activeElement&&(m.preventDefault(),g.style.transform="translateY(-2000px)",g.focus(),requestAnimationFrame(()=>{g.style.transform=""}))},o=m=>{let g=m.target;Nt(g)&&(g.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{g.style.transform="",_t&&(_t.height<window.innerHeight?requestAnimationFrame(()=>{Jt(g)}):_t.addEventListener("resize",()=>Jt(g),{once:!0}))}))},b=()=>{window.scrollTo(0,0)},w=window.pageXOffset,v=window.pageYOffset,S=Kt(We(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=Kt(pt(document,"touchstart",e,{passive:!1,capture:!0}),pt(document,"touchmove",i,{passive:!1,capture:!0}),pt(document,"touchend",l,{passive:!1,capture:!0}),pt(document,"focus",o,!0),pt(window,"scroll",b));return()=>{S(),f(),window.scrollTo(w,v)}}function We(t,n,e){let i=t.style[n];return t.style[n]=e,()=>{t.style[n]=i}}function pt(t,n,e,i){return t.addEventListener(n,e,i),()=>{t.removeEventListener(n,e,i)}}function Jt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=ee(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let i=e.getBoundingClientRect().top,l=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const b=e.getBoundingClientRect().bottom+Fe;o>b&&(e.scrollTop+=l-i)}t=e.parentElement}}function Nt(t){return t instanceof HTMLInputElement&&!Be.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Ve(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Ye(...t){return n=>t.forEach(e=>Ve(e,n))}function ne(...t){return rt.useCallback(Ye(...t),t)}const re=new WeakMap;function A(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let i={};Object.entries(n).forEach(([l,o])=>{if(l.startsWith("--")){t.style.setProperty(l,o);return}i[l]=t.style[l],t.style[l]=o}),!e&&re.set(t,i)}function qe(t,n){if(!t||!(t instanceof HTMLElement))return;let e=re.get(t);e&&(t.style[n]=e[n])}const $=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function St(t,n){if(!t)return null;const e=window.getComputedStyle(t),i=e.transform||e.webkitTransform||e.mozTransform;let l=i.match(/^matrix3d\((.+)\)$/);return l?parseFloat(l[1].split(", ")[$(n)?13:12]):(l=i.match(/^matrix\((.+)\)$/),l?parseFloat(l[1].split(", ")[$(n)?5:4]):null)}function Xe(t){return 8*(Math.log(t+1)-2)}function At(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function Ke(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const j={DURATION:.5,EASE:[.32,.72,0,1]},ae=.4,Ge=.25,Je=100,oe=8,Tt=16,Mt=26,Pt="vaul-dragging";function ie(t){const n=a.useRef(t);return a.useEffect(()=>{n.current=t}),a.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Qe({defaultProp:t,onChange:n}){const e=a.useState(t),[i]=e,l=a.useRef(i),o=ie(n);return a.useEffect(()=>{l.current!==i&&(o(i),l.current=i)},[i,l,o]),e}function se({prop:t,defaultProp:n,onChange:e=()=>{}}){const[i,l]=Qe({defaultProp:n,onChange:e}),o=t!==void 0,b=o?t:i,w=ie(e),v=a.useCallback(S=>{if(o){const m=typeof S=="function"?S(t):S;m!==t&&w(m)}else l(S)},[o,t,l,w]);return[b,v]}function Ze({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:i,overlayRef:l,fadeFromIndex:o,onSnapPointChange:b,direction:w="bottom",container:v,snapToSequentialPoint:S}){const[f,m]=se({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[g,k]=a.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);a.useEffect(()=>{function p(){k({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const N=a.useMemo(()=>f===(e==null?void 0:e[e.length-1])||null,[e,f]),T=a.useMemo(()=>{var p;return(p=e==null?void 0:e.findIndex(D=>D===f))!=null?p:null},[e,f]),C=e&&e.length>0&&(o||o===0)&&!Number.isNaN(o)&&e[o]===f||!e,u=a.useMemo(()=>{const p=v?{width:v.getBoundingClientRect().width,height:v.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var D;return(D=e==null?void 0:e.map(y=>{const H=typeof y=="string";let M=0;if(H&&(M=parseInt(y,10)),$(w)){const c=H?M:g?y*p.height:0;return g?w==="bottom"?p.height-c:-p.height+c:c}const W=H?M:g?y*p.width:0;return g?w==="right"?p.width-W:-p.width+W:W}))!=null?D:[]},[e,g,v]),P=a.useMemo(()=>T!==null?u==null?void 0:u[T]:null,[u,T]),_=a.useCallback(p=>{var D;const y=(D=u==null?void 0:u.findIndex(H=>H===p))!=null?D:null;b(y),A(i.current,{transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,transform:$(w)?`translate3d(0, ${p}px, 0)`:`translate3d(${p}px, 0, 0)`}),u&&y!==u.length-1&&o!==void 0&&y!==o&&y<o?A(l.current,{transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,opacity:"0"}):A(l.current,{transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,opacity:"1"}),m(e==null?void 0:e[Math.max(y,0)])},[i.current,e,u,o,l,m]);a.useEffect(()=>{if(f||t){var p;const D=(p=e==null?void 0:e.findIndex(y=>y===t||y===f))!=null?p:-1;u&&D!==-1&&typeof u[D]=="number"&&_(u[D])}},[f,t,e,u,_]);function s({draggedDistance:p,closeDrawer:D,velocity:y,dismissible:H}){if(o===void 0)return;const M=w==="bottom"||w==="right"?(P??0)-p:(P??0)+p,W=T===o-1,c=T===0,z=p>0;if(W&&A(l.current,{transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`}),!S&&y>2&&!z){H?D():_(u[0]);return}if(!S&&y>2&&z&&u&&e){_(u[e.length-1]);return}const F=u==null?void 0:u.reduce((I,G)=>typeof I!="number"||typeof G!="number"?I:Math.abs(G-M)<Math.abs(I-M)?G:I),V=$(w)?window.innerHeight:window.innerWidth;if(y>ae&&Math.abs(p)<V*.4){const I=z?1:-1;if(I>0&&N&&e){_(u[e.length-1]);return}if(c&&I<0&&H&&D(),T===null)return;_(u[T+I]);return}_(F)}function B({draggedDistance:p}){if(P===null)return;const D=w==="bottom"||w==="right"?P-p:P+p;(w==="bottom"||w==="right")&&D<u[u.length-1]||(w==="top"||w==="left")&&D>u[u.length-1]||A(i.current,{transform:$(w)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`})}function Y(p,D){if(!e||typeof T!="number"||!u||o===void 0)return null;const y=T===o-1;if(T>=o&&D)return 0;if(y&&!D)return 1;if(!C&&!y)return null;const M=y?T+1:T-1,W=y?u[M]-u[M-1]:u[M+1]-u[M],c=p/Math.abs(W);return y?1-c:c}return{isLastSnapPoint:N,activeSnapPoint:f,shouldFade:C,getPercentageDragged:Y,setActiveSnapPoint:m,activeSnapPointIndex:T,onRelease:s,onDrag:B,snapPointsOffset:u}}const tn=()=>()=>{};function en(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:i,noBodyStyles:l}=wt(),o=a.useRef(null),b=rt.useMemo(()=>document.body.style.backgroundColor,[]);function w(){return(window.innerWidth-Mt)/window.innerWidth}a.useEffect(()=>{if(n&&e){o.current&&clearTimeout(o.current);const v=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!v)return;Ke(i&&!l?At(document.body,{background:"black"}):tn,At(v,{transformOrigin:$(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${j.DURATION}s`,transitionTimingFunction:`cubic-bezier(${j.EASE.join(",")})`}));const S=At(v,{borderRadius:`${oe}px`,overflow:"hidden",...$(t)?{transform:`scale(${w()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${w()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{S(),o.current=window.setTimeout(()=>{b?document.body.style.background=b:document.body.style.removeProperty("background")},j.DURATION*1e3)}}},[n,e,b])}let ht=null;function nn({isOpen:t,modal:n,nested:e,hasBeenOpened:i,preventScrollRestoration:l,noBodyStyles:o}){const[b,w]=a.useState(()=>typeof window<"u"?window.location.href:""),v=a.useRef(0),S=a.useCallback(()=>{if(Xt()&&ht===null&&t&&!o){ht={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:g}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-v.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const k=g-window.innerHeight;k&&v.current>=g&&(document.body.style.top=`${-(v.current+k)}px`)}),300)}},[t]),f=a.useCallback(()=>{if(Xt()&&ht!==null&&!o){const m=-parseInt(document.body.style.top,10),g=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ht),window.requestAnimationFrame(()=>{if(l&&b!==window.location.href){w(window.location.href);return}window.scrollTo(g,m)}),ht=null}},[b]);return a.useEffect(()=>{function m(){v.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),a.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[n,f]),a.useEffect(()=>{e||!i||(t?(!window.matchMedia("(display-mode: standalone)").matches&&S(),n||window.setTimeout(()=>{f()},500)):f())},[t,i,b,n,e,S,f]),{restorePositionSetting:f}}function rn({open:t,onOpenChange:n,children:e,onDrag:i,onRelease:l,snapPoints:o,shouldScaleBackground:b=!1,setBackgroundColorOnScale:w=!0,closeThreshold:v=Ge,scrollLockTimeout:S=Je,dismissible:f=!0,handleOnly:m=!1,fadeFromIndex:g=o&&o.length-1,activeSnapPoint:k,setActiveSnapPoint:N,fixed:T,modal:C=!0,onClose:u,nested:P,noBodyStyles:_=!1,direction:s="bottom",defaultOpen:B=!1,disablePreventScroll:Y=!0,snapToSequentialPoint:p=!1,preventScrollRestoration:D=!1,repositionInputs:y=!0,onAnimationEnd:H,container:M,autoFocus:W=!1}){var c,z;const[F=!1,V]=se({defaultProp:B,prop:t,onChange:d=>{n==null||n(d),!d&&!P&&we(),setTimeout(()=>{H==null||H(d)},j.DURATION*1e3),d&&!C&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),d||(document.body.style.pointerEvents="auto")}}),[I,G]=a.useState(!1),[Q,lt]=a.useState(!1),[de,kt]=a.useState(!1),at=a.useRef(null),gt=a.useRef(null),Dt=a.useRef(null),Et=a.useRef(null),ut=a.useRef(null),dt=a.useRef(!1),Rt=a.useRef(null),Ct=a.useRef(0),ot=a.useRef(!1),Ht=a.useRef(!B),Ft=a.useRef(0),h=a.useRef(null),Lt=a.useRef(((c=h.current)==null?void 0:c.getBoundingClientRect().height)||0),Bt=a.useRef(((z=h.current)==null?void 0:z.getBoundingClientRect().width)||0),jt=a.useRef(0),ce=a.useCallback(d=>{o&&d===ct.length-1&&(gt.current=new Date)},[]),{activeSnapPoint:fe,activeSnapPointIndex:it,setActiveSnapPoint:Ut,onRelease:me,snapPointsOffset:ct,onDrag:pe,shouldFade:zt,getPercentageDragged:he}=Ze({snapPoints:o,activeSnapPointProp:k,setActiveSnapPointProp:N,drawerRef:h,fadeFromIndex:g,overlayRef:at,onSnapPointChange:ce,direction:s,container:M,snapToSequentialPoint:p});Ue({isDisabled:!F||Q||!C||de||!I||!y||!Y});const{restorePositionSetting:we}=nn({isOpen:F,modal:C,nested:P??!1,hasBeenOpened:I,preventScrollRestoration:D,noBodyStyles:_});function vt(){return(window.innerWidth-Mt)/window.innerWidth}function ge(d){var E,R;!f&&!o||h.current&&!h.current.contains(d.target)||(Lt.current=((E=h.current)==null?void 0:E.getBoundingClientRect().height)||0,Bt.current=((R=h.current)==null?void 0:R.getBoundingClientRect().width)||0,lt(!0),Dt.current=new Date,te()&&window.addEventListener("touchend",()=>dt.current=!1,{once:!0}),d.target.setPointerCapture(d.pointerId),Ct.current=$(s)?d.pageY:d.pageX)}function Wt(d,E){var R;let x=d;const O=(R=window.getSelection())==null?void 0:R.toString(),U=h.current?St(h.current,s):null,L=new Date;if(x.tagName==="SELECT"||x.hasAttribute("data-vaul-no-drag")||x.closest("[data-vaul-no-drag]"))return!1;if(s==="right"||s==="left")return!0;if(gt.current&&L.getTime()-gt.current.getTime()<500)return!1;if(U!==null&&(s==="bottom"?U>0:U<0))return!0;if(O&&O.length>0)return!1;if(ut.current&&L.getTime()-ut.current.getTime()<S&&U===0||E)return ut.current=L,!1;for(;x;){if(x.scrollHeight>x.clientHeight){if(x.scrollTop!==0)return ut.current=new Date,!1;if(x.getAttribute("role")==="dialog")return!0}x=x.parentNode}return!0}function ve(d){if(h.current&&Q){const E=s==="bottom"||s==="right"?1:-1,R=(Ct.current-($(s)?d.pageY:d.pageX))*E,x=R>0,O=o&&!f&&!x;if(O&&it===0)return;const U=Math.abs(R),L=document.querySelector("[data-vaul-drawer-wrapper]"),Z=s==="bottom"||s==="top"?Lt.current:Bt.current;let q=U/Z;const nt=he(U,x);if(nt!==null&&(q=nt),O&&q>=1||!dt.current&&!Wt(d.target,x))return;if(h.current.classList.add(Pt),dt.current=!0,A(h.current,{transition:"none"}),A(at.current,{transition:"none"}),o&&pe({draggedDistance:R}),x&&!o){const X=Xe(R),bt=Math.min(X*-1,0)*E;A(h.current,{transform:$(s)?`translate3d(0, ${bt}px, 0)`:`translate3d(${bt}px, 0, 0)`});return}const tt=1-q;if((zt||g&&it===g-1)&&(i==null||i(d,q),A(at.current,{opacity:`${tt}`,transition:"none"},!0)),L&&at.current&&b){const X=Math.min(vt()+q*(1-vt()),1),bt=8-q*8,Yt=Math.max(0,14-q*14);A(L,{borderRadius:`${bt}px`,transform:$(s)?`scale(${X}) translate3d(0, ${Yt}px, 0)`:`scale(${X}) translate3d(${Yt}px, 0, 0)`,transition:"none"},!0)}if(!o){const X=U*E;A(h.current,{transform:$(s)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`})}}}a.useEffect(()=>{window.requestAnimationFrame(()=>{Ht.current=!0})},[]),a.useEffect(()=>{var d;function E(){if(!h.current||!y)return;const R=document.activeElement;if(Nt(R)||ot.current){var x;const O=((x=window.visualViewport)==null?void 0:x.height)||0,U=window.innerHeight;let L=U-O;const Z=h.current.getBoundingClientRect().height||0,q=Z>U*.8;jt.current||(jt.current=Z);const nt=h.current.getBoundingClientRect().top;if(Math.abs(Ft.current-L)>60&&(ot.current=!ot.current),o&&o.length>0&&ct&&it){const tt=ct[it]||0;L+=tt}if(Ft.current=L,Z>O||ot.current){const tt=h.current.getBoundingClientRect().height;let X=tt;tt>O&&(X=O-(q?nt:Mt)),T?h.current.style.height=`${tt-Math.max(L,0)}px`:h.current.style.height=`${Math.max(X,O-nt)}px`}else Me()||(h.current.style.height=`${jt.current}px`);o&&o.length>0&&!ot.current?h.current.style.bottom="0px":h.current.style.bottom=`${Math.max(L,0)}px`}}return(d=window.visualViewport)==null||d.addEventListener("resize",E),()=>{var R;return(R=window.visualViewport)==null?void 0:R.removeEventListener("resize",E)}},[it,o,ct]);function ft(d){be(),u==null||u(),d||V(!1),setTimeout(()=>{o&&Ut(o[0])},j.DURATION*1e3)}function Vt(){if(!h.current)return;const d=document.querySelector("[data-vaul-drawer-wrapper]"),E=St(h.current,s);A(h.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`}),A(at.current,{transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,opacity:"1"}),b&&E&&E>0&&F&&A(d,{borderRadius:`${oe}px`,overflow:"hidden",...$(s)?{transform:`scale(${vt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${vt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${j.DURATION}s`,transitionTimingFunction:`cubic-bezier(${j.EASE.join(",")})`},!0)}function be(){!Q||!h.current||(h.current.classList.remove(Pt),dt.current=!1,lt(!1),Et.current=new Date)}function xe(d){if(!Q||!h.current)return;h.current.classList.remove(Pt),dt.current=!1,lt(!1),Et.current=new Date;const E=St(h.current,s);if(!d||!Wt(d.target,!1)||!E||Number.isNaN(E)||Dt.current===null)return;const R=Et.current.getTime()-Dt.current.getTime(),x=Ct.current-($(s)?d.pageY:d.pageX),O=Math.abs(x)/R;if(O>.05&&(kt(!0),setTimeout(()=>{kt(!1)},200)),o){me({draggedDistance:x*(s==="bottom"||s==="right"?1:-1),closeDrawer:ft,velocity:O,dismissible:f}),l==null||l(d,!0);return}if(s==="bottom"||s==="right"?x>0:x<0){Vt(),l==null||l(d,!0);return}if(O>ae){ft(),l==null||l(d,!1);return}var U;const L=Math.min((U=h.current.getBoundingClientRect().height)!=null?U:0,window.innerHeight);var Z;const q=Math.min((Z=h.current.getBoundingClientRect().width)!=null?Z:0,window.innerWidth),nt=s==="left"||s==="right";if(Math.abs(E)>=(nt?q:L)*v){ft(),l==null||l(d,!1);return}l==null||l(d,!0),Vt()}a.useEffect(()=>(F&&(A(document.documentElement,{scrollBehavior:"auto"}),gt.current=new Date),()=>{qe(document.documentElement,"scrollBehavior")}),[F]);function ye(d){const E=d?(window.innerWidth-Tt)/window.innerWidth:1,R=d?-16:0;Rt.current&&window.clearTimeout(Rt.current),A(h.current,{transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,transform:$(s)?`scale(${E}) translate3d(0, ${R}px, 0)`:`scale(${E}) translate3d(${R}px, 0, 0)`}),!d&&h.current&&(Rt.current=setTimeout(()=>{const x=St(h.current,s);A(h.current,{transition:"none",transform:$(s)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})},500))}function Se(d,E){if(E<0)return;const R=(window.innerWidth-Tt)/window.innerWidth,x=R+E*(1-R),O=-16+E*Tt;A(h.current,{transform:$(s)?`scale(${x}) translate3d(0, ${O}px, 0)`:`scale(${x}) translate3d(${O}px, 0, 0)`,transition:"none"})}function Te(d,E){const R=$(s)?window.innerHeight:window.innerWidth,x=E?(R-Tt)/R:1,O=E?-16:0;E&&A(h.current,{transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,transform:$(s)?`scale(${x}) translate3d(0, ${O}px, 0)`:`scale(${x}) translate3d(${O}px, 0, 0)`})}return a.useEffect(()=>{C||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[C]),a.createElement(_e,{defaultOpen:B,onOpenChange:d=>{!f&&!d||(d?G(!0):ft(!0),V(d))},open:F},a.createElement(Zt.Provider,{value:{activeSnapPoint:fe,snapPoints:o,setActiveSnapPoint:Ut,drawerRef:h,overlayRef:at,onOpenChange:n,onPress:ge,onRelease:xe,onDrag:ve,dismissible:f,shouldAnimate:Ht,handleOnly:m,isOpen:F,isDragging:Q,shouldFade:zt,closeDrawer:ft,onNestedDrag:Se,onNestedOpenChange:ye,onNestedRelease:Te,keyboardIsOpen:ot,modal:C,snapPointsOffset:ct,activeSnapPointIndex:it,direction:s,shouldScaleBackground:b,setBackgroundColorOnScale:w,noBodyStyles:_,container:M,autoFocus:W}},e))}const le=a.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:i,onRelease:l,shouldFade:o,isOpen:b,modal:w,shouldAnimate:v}=wt(),S=ne(n,e),f=i&&i.length>0;if(!w)return null;const m=a.useCallback(g=>l(g),[l]);return a.createElement(Pe,{onMouseUp:m,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":b&&f?"true":"false","data-vaul-snap-points-overlay":b&&o?"true":"false","data-vaul-animate":v!=null&&v.current?"true":"false",...t})});le.displayName="Drawer.Overlay";const ue=a.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...i},l){const{drawerRef:o,onPress:b,onRelease:w,onDrag:v,keyboardIsOpen:S,snapPointsOffset:f,activeSnapPointIndex:m,modal:g,isOpen:k,direction:N,snapPoints:T,container:C,handleOnly:u,shouldAnimate:P,autoFocus:_}=wt(),[s,B]=a.useState(!1),Y=ne(l,o),p=a.useRef(null),D=a.useRef(null),y=a.useRef(!1),H=T&&T.length>0;en();const M=(c,z,F=0)=>{if(y.current)return!0;const V=Math.abs(c.y),I=Math.abs(c.x),G=I>V,Q=["bottom","right"].includes(z)?1:-1;if(z==="left"||z==="right"){if(!(c.x*Q<0)&&I>=0&&I<=F)return G}else if(!(c.y*Q<0)&&V>=0&&V<=F)return!G;return y.current=!0,!0};a.useEffect(()=>{H&&window.requestAnimationFrame(()=>{B(!0)})},[]);function W(c){p.current=null,y.current=!1,w(c)}return a.createElement($e,{"data-vaul-drawer-direction":N,"data-vaul-drawer":"","data-vaul-delayed-snap-points":s?"true":"false","data-vaul-snap-points":k&&H?"true":"false","data-vaul-custom-container":C?"true":"false","data-vaul-animate":P!=null&&P.current?"true":"false",...i,ref:Y,style:f&&f.length>0?{"--snap-point-height":`${f[m??0]}px`,...n}:n,onPointerDown:c=>{u||(i.onPointerDown==null||i.onPointerDown.call(i,c),p.current={x:c.pageX,y:c.pageY},b(c))},onOpenAutoFocus:c=>{e==null||e(c),_||c.preventDefault()},onPointerDownOutside:c=>{if(t==null||t(c),!g||c.defaultPrevented){c.preventDefault();return}S.current&&(S.current=!1)},onFocusOutside:c=>{if(!g){c.preventDefault();return}},onPointerMove:c=>{if(D.current=c,u||(i.onPointerMove==null||i.onPointerMove.call(i,c),!p.current))return;const z=c.pageY-p.current.y,F=c.pageX-p.current.x,V=c.pointerType==="touch"?10:2;M({x:F,y:z},N,V)?v(c):(Math.abs(F)>V||Math.abs(z)>V)&&(p.current=null)},onPointerUp:c=>{i.onPointerUp==null||i.onPointerUp.call(i,c),p.current=null,y.current=!1,w(c)},onPointerOut:c=>{i.onPointerOut==null||i.onPointerOut.call(i,c),W(D.current)},onContextMenu:c=>{i.onContextMenu==null||i.onContextMenu.call(i,c),D.current&&W(D.current)}})});ue.displayName="Drawer.Content";const an=250,on=120,sn=a.forwardRef(function({preventCycle:t=!1,children:n,...e},i){const{closeDrawer:l,isDragging:o,snapPoints:b,activeSnapPoint:w,setActiveSnapPoint:v,dismissible:S,handleOnly:f,isOpen:m,onPress:g,onDrag:k}=wt(),N=a.useRef(null),T=a.useRef(!1);function C(){if(T.current){_();return}window.setTimeout(()=>{u()},on)}function u(){if(o||t||T.current){_();return}if(_(),!b||b.length===0){S||l();return}if(w===b[b.length-1]&&S){l();return}const B=b.findIndex(p=>p===w);if(B===-1)return;const Y=b[B+1];v(Y)}function P(){N.current=window.setTimeout(()=>{T.current=!0},an)}function _(){N.current&&window.clearTimeout(N.current),T.current=!1}return a.createElement("div",{onClick:C,onPointerCancel:_,onPointerDown:s=>{f&&g(s),P()},onPointerMove:s=>{f&&k(s)},ref:i,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},a.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});sn.displayName="Drawer.Handle";function ln(t){const n=wt(),{container:e=n.container,...i}=t;return a.createElement(Ae,{container:e,...i})}const et={Root:rn,Content:ue,Overlay:le,Trigger:Re,Portal:ln,Close:Oe,Title:Ce,Description:je};function un({...t}){return r.jsx(et.Root,{"data-slot":"drawer",...t})}function dn({...t}){return r.jsx(et.Trigger,{"data-slot":"drawer-trigger",...t})}function cn({...t}){return r.jsx(et.Portal,{"data-slot":"drawer-portal",...t})}function Qt({...t}){return r.jsx(et.Close,{"data-slot":"drawer-close",...t})}function fn({className:t,...n}){return r.jsx(et.Overlay,{"data-slot":"drawer-overlay",className:st("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function mn({className:t,children:n,...e}){return r.jsxs(cn,{"data-slot":"drawer-portal",children:[r.jsx(fn,{}),r.jsxs(et.Content,{"data-slot":"drawer-content",className:st("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...e,children:[r.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})]})}function pn({className:t,...n}){return r.jsx("div",{"data-slot":"drawer-header",className:st("flex flex-col gap-1.5 p-4",t),...n})}function hn({className:t,...n}){return r.jsx("div",{"data-slot":"drawer-footer",className:st("mt-auto flex flex-col gap-2 p-4",t),...n})}function wn({className:t,...n}){return r.jsx(et.Title,{"data-slot":"drawer-title",className:st("text-foreground font-semibold",t),...n})}function gn({className:t,...n}){return r.jsx(et.Description,{"data-slot":"drawer-description",className:st("text-muted-foreground text-sm",t),...n})}function Rn({employee:t=null,departments:n=[],designations:e=[],triggerLabel:i="Add Employee",setEditingEmployee:l}){const o=!!t,[b,w]=rt.useState(!1),{flash:v}=De().props,S=rt.useRef(!1),{data:f,setData:m,post:g,put:k,processing:N,reset:T,errors:C}=Ee({name:"",email:"",position:"",about:"",department_id:"",designation_id:"",status:!1,phone:"",present_address:"",permanent_address:""});rt.useEffect(()=>{t?(m({name:t.name,email:t.email,position:t.position,user_id:1,about:t.about,department_id:t.department_id?String(t.department_id):"",designation_id:t.designation_id?String(t.designation_id):"",status:t.status,phone:t.phone,present_address:t.present_address,permanent_address:t.permanent_address}),w(!0)):T(),v!=null&&v.success&&!S.current&&(qt.success(v.success),S.current=!0),v!=null&&v.error&&!S.current&&(qt.error(v.error),S.current=!0)},[t,v,T,m]);const u=s=>{const{name:B,type:Y}=s.target;m(B,Y==="checkbox"?!!s.target.checked:s.target.value)},P=s=>{s.preventDefault();const B=o?k:g,Y=o?route("employees.update",t==null?void 0:t.id):route("employees.store");B(Y,{onSuccess:()=>{T(),w(!1),l(null)}})},_=()=>{w(!1),T(),l(null)};return r.jsxs(un,{open:b,onOpenChange:s=>w(s),direction:"right",children:[r.jsx(dn,{asChild:!0,children:r.jsx(xt,{variant:"outline",onClick:()=>{l(null),T(),S.current=!1},children:i})}),r.jsx(mn,{className:"h-screen w-full ml-auto",children:r.jsxs("form",{onSubmit:P,className:"flex flex-col h-full",children:[r.jsx(pn,{className:"border-b",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx(wn,{children:o?"Edit Employee":"New Employee"}),r.jsx(gn,{children:o?"Update employee details.":"Fill in employee details."})]}),r.jsx(Qt,{asChild:!0,children:r.jsx(xt,{size:"sm",variant:"ghost",onClick:_,children:"âœ•"})})]})}),r.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx(K,{htmlFor:"name",children:"Name"}),r.jsx(mt,{id:"name",name:"name",value:f.name,onChange:u}),r.jsx(J,{message:C.name})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"email",children:"Email"}),r.jsx(mt,{id:"email",name:"email",type:"email",value:f.email,onChange:u}),r.jsx(J,{message:C.email})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"position",children:"Position"}),r.jsx(mt,{id:"position",name:"position",value:f.position,onChange:u}),r.jsx(J,{message:C.position})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"phone",children:"Phone"}),r.jsx(mt,{id:"phone",name:"phone",value:f.phone,onChange:u}),r.jsx(J,{message:C.phone})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"present_address",children:"Present Address"}),r.jsx(Ot,{id:"present_address",name:"present_address",value:f.present_address,onChange:u}),r.jsx(J,{message:C.present_address})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"permanent_address",children:"Permanent Address"}),r.jsx(Ot,{id:"permanent_address",name:"permanent_address",value:f.permanent_address,onChange:u}),r.jsx(J,{message:C.permanent_address})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"about",children:"About"}),r.jsx(Ot,{id:"about",name:"about",value:f.about,onChange:u}),r.jsx(J,{message:C.about})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"department_id",children:"Department"}),r.jsxs("select",{id:"department_id",name:"department_id",value:f.department_id,onChange:u,className:"w-full border rounded-md p-2",children:[r.jsx("option",{value:"",children:"Select Department"}),n.map(s=>r.jsx("option",{value:s.id,children:s.name},s.id))]}),r.jsx(J,{message:C.department_id})]}),r.jsxs("div",{children:[r.jsx(K,{htmlFor:"designation_id",children:"Department"}),r.jsxs("select",{id:"designation_id",name:"designation_id",value:f.designation_id,onChange:u,className:"w-full border rounded-md p-2",children:[r.jsx("option",{value:"",children:"Select Department"}),e.map(s=>r.jsx("option",{value:s.id,children:s.title},s.id))]}),r.jsx(J,{message:C.designation_id})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mt,{id:"status",name:"status",type:"checkbox",checked:f.status,onChange:u}),r.jsx(K,{htmlFor:"status",children:"Active"})]})]}),r.jsxs(hn,{className:"border-t pt-4",children:[r.jsx(xt,{type:"submit",disabled:N,children:N?"Saving...":o?"Update":"Save"}),r.jsx(Qt,{asChild:!0,children:r.jsx(xt,{type:"button",variant:"outline",onClick:_,children:"Cancel"})})]})]})})]})}export{Rn as EmployeeDrawer};
