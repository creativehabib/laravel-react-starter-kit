import{R as r,r as ot,j as i,m as De}from"./app-CzGmLlrX.js";import{c as it,B as vt}from"./button-CvF0UCS-.js";import{T as Te,a as Ee,D as Re,C as Ce,R as Oe,b as _e,P as je,O as $e}from"./index-DpbhASFA.js";import{I as q}from"./input-D3UbF3vd.js";import{L as bt,I as yt}from"./label-B4bwTykQ.js";import{T as _t}from"./textarea-Cyy4tLmm.js";import{T as Ae}from"./toggle-DZdwL9vJ.js";import{t as Ne}from"./employee-C_ZQLp6F.js";import{S as Pe}from"./media-image-select-DLu3pEvp.js";import"./index-CA-wVlCH.js";import"./media-manager-6cVxZfiR.js";import"./dialog-BebmVMmP.js";import"./index-D_n8e1pt.js";import"./delete-dialog-_QTUpnDW.js";import"./loader-circle-BuGNMWdp.js";function Me(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Qt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),pt=()=>{const t=r.useContext(Qt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Me(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Ie(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function ke(){return It(/^Mac/)}function Be(){return It(/^iPhone/)}function qt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function He(){return It(/^iPad/)||ke()&&navigator.maxTouchPoints>1}function Zt(){return Be()||He()}function It(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Le=24,Fe=typeof window<"u"?ot.useLayoutEffect:ot.useEffect;function Xt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}const jt=typeof document<"u"&&window.visualViewport;function Gt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function te(t){for(Gt(t)&&(t=t.parentElement);t&&!Gt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Ue=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let xt=0,$t;function ze(t={}){let{isDisabled:n}=t;Fe(()=>{if(!n)return xt++,xt===1&&Zt()&&($t=We()),()=>{xt--,xt===0&&($t==null||$t())}},[n])}function We(){let t,n=0,e=w=>{t=te(w.target),!(t===document.documentElement&&t===document.body)&&(n=w.changedTouches[0].pageY)},o=w=>{if(!t||t===document.documentElement||t===document.body){w.preventDefault();return}let g=w.changedTouches[0].pageY,M=t.scrollTop,j=t.scrollHeight-t.clientHeight;j!==0&&((M<=0&&g>n||M>=j&&g<n)&&w.preventDefault(),n=g)},s=w=>{let g=w.target;Pt(g)&&g!==document.activeElement&&(w.preventDefault(),g.style.transform="translateY(-2000px)",g.focus(),requestAnimationFrame(()=>{g.style.transform=""}))},a=w=>{let g=w.target;Pt(g)&&(g.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{g.style.transform="",jt&&(jt.height<window.innerHeight?requestAnimationFrame(()=>{Kt(g)}):jt.addEventListener("resize",()=>Kt(g),{once:!0}))}))},v=()=>{window.scrollTo(0,0)},b=window.pageXOffset,y=window.pageYOffset,S=Xt(Ve(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=Xt(ft(document,"touchstart",e,{passive:!1,capture:!0}),ft(document,"touchmove",o,{passive:!1,capture:!0}),ft(document,"touchend",s,{passive:!1,capture:!0}),ft(document,"focus",a,!0),ft(window,"scroll",v));return()=>{S(),p(),window.scrollTo(b,y)}}function Ve(t,n,e){let o=t.style[n];return t.style[n]=e,()=>{t.style[n]=o}}function ft(t,n,e,o){return t.addEventListener(n,e,o),()=>{t.removeEventListener(n,e,o)}}function Kt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=te(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let o=e.getBoundingClientRect().top,s=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom;const v=e.getBoundingClientRect().bottom+Le;a>v&&(e.scrollTop+=s-o)}t=e.parentElement}}function Pt(t){return t instanceof HTMLInputElement&&!Ue.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Ye(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function qe(...t){return n=>t.forEach(e=>Ye(e,n))}function ee(...t){return ot.useCallback(qe(...t),t)}const ne=new WeakMap;function N(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let o={};Object.entries(n).forEach(([s,a])=>{if(s.startsWith("--")){t.style.setProperty(s,a);return}o[s]=t.style[s],t.style[s]=a}),!e&&ne.set(t,o)}function Xe(t,n){if(!t||!(t instanceof HTMLElement))return;let e=ne.get(t);e&&(t.style[n]=e[n])}const $=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function St(t,n){if(!t)return null;const e=window.getComputedStyle(t),o=e.transform||e.webkitTransform||e.mozTransform;let s=o.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[$(n)?13:12]):(s=o.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[$(n)?5:4]):null)}function Ge(t){return 8*(Math.log(t+1)-2)}function At(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function Ke(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},re=.4,Je=.25,Qe=100,ae=8,Dt=16,Mt=26,Nt="vaul-dragging";function oe(t){const n=r.useRef(t);return r.useEffect(()=>{n.current=t}),r.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Ze({defaultProp:t,onChange:n}){const e=r.useState(t),[o]=e,s=r.useRef(o),a=oe(n);return r.useEffect(()=>{s.current!==o&&(a(o),s.current=o)},[o,s,a]),e}function ie({prop:t,defaultProp:n,onChange:e=()=>{}}){const[o,s]=Ze({defaultProp:n,onChange:e}),a=t!==void 0,v=a?t:o,b=oe(e),y=r.useCallback(S=>{if(a){const w=typeof S=="function"?S(t):S;w!==t&&b(w)}else s(S)},[a,t,s,b]);return[v,y]}function tn({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:o,overlayRef:s,fadeFromIndex:a,onSnapPointChange:v,direction:b="bottom",container:y,snapToSequentialPoint:S}){const[p,w]=ie({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[g,M]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function d(){M({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const j=r.useMemo(()=>p===(e==null?void 0:e[e.length-1])||null,[e,p]),T=r.useMemo(()=>{var d;return(d=e==null?void 0:e.findIndex(E=>E===p))!=null?d:null},[e,p]),B=e&&e.length>0&&(a||a===0)&&!Number.isNaN(a)&&e[a]===p||!e,m=r.useMemo(()=>{const d=y?{width:y.getBoundingClientRect().width,height:y.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var E;return(E=e==null?void 0:e.map(D=>{const H=typeof D=="string";let I=0;if(H&&(I=parseInt(D,10)),$(b)){const c=H?I:g?D*d.height:0;return g?b==="bottom"?d.height-c:-d.height+c:c}const V=H?I:g?D*d.width:0;return g?b==="right"?d.width-V:-d.width+V:V}))!=null?E:[]},[e,g,y]),P=r.useMemo(()=>T!==null?m==null?void 0:m[T]:null,[m,T]),A=r.useCallback(d=>{var E;const D=(E=m==null?void 0:m.findIndex(H=>H===d))!=null?E:null;v(D),N(o.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(b)?`translate3d(0, ${d}px, 0)`:`translate3d(${d}px, 0, 0)`}),m&&D!==m.length-1&&a!==void 0&&D!==a&&D<a?N(s.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):N(s.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),w(e==null?void 0:e[Math.max(D,0)])},[o.current,e,m,a,s,w]);r.useEffect(()=>{if(p||t){var d;const E=(d=e==null?void 0:e.findIndex(D=>D===t||D===p))!=null?d:-1;m&&E!==-1&&typeof m[E]=="number"&&A(m[E])}},[p,t,e,m,A]);function f({draggedDistance:d,closeDrawer:E,velocity:D,dismissible:H}){if(a===void 0)return;const I=b==="bottom"||b==="right"?(P??0)-d:(P??0)+d,V=T===a-1,c=T===0,W=d>0;if(V&&N(s.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),!S&&D>2&&!W){H?E():A(m[0]);return}if(!S&&D>2&&W&&m&&e){A(m[e.length-1]);return}const L=m==null?void 0:m.reduce((k,K)=>typeof k!="number"||typeof K!="number"?k:Math.abs(K-I)<Math.abs(k-I)?K:k),Y=$(b)?window.innerHeight:window.innerWidth;if(D>re&&Math.abs(d)<Y*.4){const k=W?1:-1;if(k>0&&j&&e){A(m[e.length-1]);return}if(c&&k<0&&H&&E(),T===null)return;A(m[T+k]);return}A(L)}function u({draggedDistance:d}){if(P===null)return;const E=b==="bottom"||b==="right"?P-d:P+d;(b==="bottom"||b==="right")&&E<m[m.length-1]||(b==="top"||b==="left")&&E>m[m.length-1]||N(o.current,{transform:$(b)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})}function z(d,E){if(!e||typeof T!="number"||!m||a===void 0)return null;const D=T===a-1;if(T>=a&&E)return 0;if(D&&!E)return 1;if(!B&&!D)return null;const I=D?T+1:T-1,V=D?m[I]-m[I-1]:m[I+1]-m[I],c=d/Math.abs(V);return D?1-c:c}return{isLastSnapPoint:j,activeSnapPoint:p,shouldFade:B,getPercentageDragged:z,setActiveSnapPoint:w,activeSnapPointIndex:T,onRelease:f,onDrag:u,snapPointsOffset:m}}const en=()=>()=>{};function nn(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:o,noBodyStyles:s}=pt(),a=r.useRef(null),v=ot.useMemo(()=>document.body.style.backgroundColor,[]);function b(){return(window.innerWidth-Mt)/window.innerWidth}r.useEffect(()=>{if(n&&e){a.current&&clearTimeout(a.current);const y=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!y)return;Ke(o&&!s?At(document.body,{background:"black"}):en,At(y,{transformOrigin:$(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`}));const S=At(y,{borderRadius:`${ae}px`,overflow:"hidden",...$(t)?{transform:`scale(${b()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${b()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{S(),a.current=window.setTimeout(()=>{v?document.body.style.background=v:document.body.style.removeProperty("background")},O.DURATION*1e3)}}},[n,e,v])}let mt=null;function rn({isOpen:t,modal:n,nested:e,hasBeenOpened:o,preventScrollRestoration:s,noBodyStyles:a}){const[v,b]=r.useState(()=>typeof window<"u"?window.location.href:""),y=r.useRef(0),S=r.useCallback(()=>{if(qt()&&mt===null&&t&&!a){mt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:w,innerHeight:g}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-y.current}px`,left:`${-w}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const M=g-window.innerHeight;M&&y.current>=g&&(document.body.style.top=`${-(y.current+M)}px`)}),300)}},[t]),p=r.useCallback(()=>{if(qt()&&mt!==null&&!a){const w=-parseInt(document.body.style.top,10),g=-parseInt(document.body.style.left,10);Object.assign(document.body.style,mt),window.requestAnimationFrame(()=>{if(s&&v!==window.location.href){b(window.location.href);return}window.scrollTo(g,w)}),mt=null}},[v]);return r.useEffect(()=>{function w(){y.current=window.scrollY}return w(),window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||p()}},[n,p]),r.useEffect(()=>{e||!o||(t?(!window.matchMedia("(display-mode: standalone)").matches&&S(),n||window.setTimeout(()=>{p()},500)):p())},[t,o,v,n,e,S,p]),{restorePositionSetting:p}}function an({open:t,onOpenChange:n,children:e,onDrag:o,onRelease:s,snapPoints:a,shouldScaleBackground:v=!1,setBackgroundColorOnScale:b=!0,closeThreshold:y=Je,scrollLockTimeout:S=Qe,dismissible:p=!0,handleOnly:w=!1,fadeFromIndex:g=a&&a.length-1,activeSnapPoint:M,setActiveSnapPoint:j,fixed:T,modal:B=!0,onClose:m,nested:P,noBodyStyles:A=!1,direction:f="bottom",defaultOpen:u=!1,disablePreventScroll:z=!0,snapToSequentialPoint:d=!1,preventScrollRestoration:E=!1,repositionInputs:D=!0,onAnimationEnd:H,container:I,autoFocus:V=!1}){var c,W;const[L=!1,Y]=ie({defaultProp:u,prop:t,onChange:l=>{n==null||n(l),!l&&!P&&he(),setTimeout(()=>{H==null||H(l)},O.DURATION*1e3),l&&!B&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[k,K]=r.useState(!1),[J,st]=r.useState(!1),[ue,kt]=r.useState(!1),nt=r.useRef(null),ht=r.useRef(null),Tt=r.useRef(null),Et=r.useRef(null),lt=r.useRef(null),ut=r.useRef(!1),Rt=r.useRef(null),Ct=r.useRef(0),rt=r.useRef(!1),Bt=r.useRef(!u),Ht=r.useRef(0),h=r.useRef(null),Lt=r.useRef(((c=h.current)==null?void 0:c.getBoundingClientRect().height)||0),Ft=r.useRef(((W=h.current)==null?void 0:W.getBoundingClientRect().width)||0),Ot=r.useRef(0),ce=r.useCallback(l=>{a&&l===ct.length-1&&(ht.current=new Date)},[]),{activeSnapPoint:de,activeSnapPointIndex:at,setActiveSnapPoint:Ut,onRelease:fe,snapPointsOffset:ct,onDrag:me,shouldFade:zt,getPercentageDragged:pe}=tn({snapPoints:a,activeSnapPointProp:M,setActiveSnapPointProp:j,drawerRef:h,fadeFromIndex:g,overlayRef:nt,onSnapPointChange:ce,direction:f,container:I,snapToSequentialPoint:d});ze({isDisabled:!L||J||!B||ue||!k||!D||!z});const{restorePositionSetting:he}=rn({isOpen:L,modal:B,nested:P??!1,hasBeenOpened:k,preventScrollRestoration:E,noBodyStyles:A});function wt(){return(window.innerWidth-Mt)/window.innerWidth}function we(l){var R,C;!p&&!a||h.current&&!h.current.contains(l.target)||(Lt.current=((R=h.current)==null?void 0:R.getBoundingClientRect().height)||0,Ft.current=((C=h.current)==null?void 0:C.getBoundingClientRect().width)||0,st(!0),Tt.current=new Date,Zt()&&window.addEventListener("touchend",()=>ut.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),Ct.current=$(f)?l.pageY:l.pageX)}function Wt(l,R){var C;let x=l;const _=(C=window.getSelection())==null?void 0:C.toString(),U=h.current?St(h.current,f):null,F=new Date;if(x.tagName==="SELECT"||x.hasAttribute("data-vaul-no-drag")||x.closest("[data-vaul-no-drag]"))return!1;if(f==="right"||f==="left")return!0;if(ht.current&&F.getTime()-ht.current.getTime()<500)return!1;if(U!==null&&(f==="bottom"?U>0:U<0))return!0;if(_&&_.length>0)return!1;if(lt.current&&F.getTime()-lt.current.getTime()<S&&U===0||R)return lt.current=F,!1;for(;x;){if(x.scrollHeight>x.clientHeight){if(x.scrollTop!==0)return lt.current=new Date,!1;if(x.getAttribute("role")==="dialog")return!0}x=x.parentNode}return!0}function ge(l){if(h.current&&J){const R=f==="bottom"||f==="right"?1:-1,C=(Ct.current-($(f)?l.pageY:l.pageX))*R,x=C>0,_=a&&!p&&!x;if(_&&at===0)return;const U=Math.abs(C),F=document.querySelector("[data-vaul-drawer-wrapper]"),Q=f==="bottom"||f==="top"?Lt.current:Ft.current;let X=U/Q;const et=pe(U,x);if(et!==null&&(X=et),_&&X>=1||!ut.current&&!Wt(l.target,x))return;if(h.current.classList.add(Nt),ut.current=!0,N(h.current,{transition:"none"}),N(nt.current,{transition:"none"}),a&&me({draggedDistance:C}),x&&!a){const G=Ge(C),gt=Math.min(G*-1,0)*R;N(h.current,{transform:$(f)?`translate3d(0, ${gt}px, 0)`:`translate3d(${gt}px, 0, 0)`});return}const Z=1-X;if((zt||g&&at===g-1)&&(o==null||o(l,X),N(nt.current,{opacity:`${Z}`,transition:"none"},!0)),F&&nt.current&&v){const G=Math.min(wt()+X*(1-wt()),1),gt=8-X*8,Yt=Math.max(0,14-X*14);N(F,{borderRadius:`${gt}px`,transform:$(f)?`scale(${G}) translate3d(0, ${Yt}px, 0)`:`scale(${G}) translate3d(${Yt}px, 0, 0)`,transition:"none"},!0)}if(!a){const G=U*R;N(h.current,{transform:$(f)?`translate3d(0, ${G}px, 0)`:`translate3d(${G}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{Bt.current=!0})},[]),r.useEffect(()=>{var l;function R(){if(!h.current||!D)return;const C=document.activeElement;if(Pt(C)||rt.current){var x;const _=((x=window.visualViewport)==null?void 0:x.height)||0,U=window.innerHeight;let F=U-_;const Q=h.current.getBoundingClientRect().height||0,X=Q>U*.8;Ot.current||(Ot.current=Q);const et=h.current.getBoundingClientRect().top;if(Math.abs(Ht.current-F)>60&&(rt.current=!rt.current),a&&a.length>0&&ct&&at){const Z=ct[at]||0;F+=Z}if(Ht.current=F,Q>_||rt.current){const Z=h.current.getBoundingClientRect().height;let G=Z;Z>_&&(G=_-(X?et:Mt)),T?h.current.style.height=`${Z-Math.max(F,0)}px`:h.current.style.height=`${Math.max(G,_-et)}px`}else Ie()||(h.current.style.height=`${Ot.current}px`);a&&a.length>0&&!rt.current?h.current.style.bottom="0px":h.current.style.bottom=`${Math.max(F,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",R),()=>{var C;return(C=window.visualViewport)==null?void 0:C.removeEventListener("resize",R)}},[at,a,ct]);function dt(l){ve(),m==null||m(),l||Y(!1),setTimeout(()=>{a&&Ut(a[0])},O.DURATION*1e3)}function Vt(){if(!h.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),R=St(h.current,f);N(h.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),N(nt.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),v&&R&&R>0&&L&&N(l,{borderRadius:`${ae}px`,overflow:"hidden",...$(f)?{transform:`scale(${wt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${wt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function ve(){!J||!h.current||(h.current.classList.remove(Nt),ut.current=!1,st(!1),Et.current=new Date)}function be(l){if(!J||!h.current)return;h.current.classList.remove(Nt),ut.current=!1,st(!1),Et.current=new Date;const R=St(h.current,f);if(!l||!Wt(l.target,!1)||!R||Number.isNaN(R)||Tt.current===null)return;const C=Et.current.getTime()-Tt.current.getTime(),x=Ct.current-($(f)?l.pageY:l.pageX),_=Math.abs(x)/C;if(_>.05&&(kt(!0),setTimeout(()=>{kt(!1)},200)),a){fe({draggedDistance:x*(f==="bottom"||f==="right"?1:-1),closeDrawer:dt,velocity:_,dismissible:p}),s==null||s(l,!0);return}if(f==="bottom"||f==="right"?x>0:x<0){Vt(),s==null||s(l,!0);return}if(_>re){dt(),s==null||s(l,!1);return}var U;const F=Math.min((U=h.current.getBoundingClientRect().height)!=null?U:0,window.innerHeight);var Q;const X=Math.min((Q=h.current.getBoundingClientRect().width)!=null?Q:0,window.innerWidth),et=f==="left"||f==="right";if(Math.abs(R)>=(et?X:F)*y){dt(),s==null||s(l,!1);return}s==null||s(l,!0),Vt()}r.useEffect(()=>(L&&(N(document.documentElement,{scrollBehavior:"auto"}),ht.current=new Date),()=>{Xe(document.documentElement,"scrollBehavior")}),[L]);function ye(l){const R=l?(window.innerWidth-Dt)/window.innerWidth:1,C=l?-16:0;Rt.current&&window.clearTimeout(Rt.current),N(h.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(f)?`scale(${R}) translate3d(0, ${C}px, 0)`:`scale(${R}) translate3d(${C}px, 0, 0)`}),!l&&h.current&&(Rt.current=setTimeout(()=>{const x=St(h.current,f);N(h.current,{transition:"none",transform:$(f)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})},500))}function xe(l,R){if(R<0)return;const C=(window.innerWidth-Dt)/window.innerWidth,x=C+R*(1-C),_=-16+R*Dt;N(h.current,{transform:$(f)?`scale(${x}) translate3d(0, ${_}px, 0)`:`scale(${x}) translate3d(${_}px, 0, 0)`,transition:"none"})}function Se(l,R){const C=$(f)?window.innerHeight:window.innerWidth,x=R?(C-Dt)/C:1,_=R?-16:0;R&&N(h.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:$(f)?`scale(${x}) translate3d(0, ${_}px, 0)`:`scale(${x}) translate3d(${_}px, 0, 0)`})}return r.useEffect(()=>{B||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[B]),r.createElement(Oe,{defaultOpen:u,onOpenChange:l=>{!p&&!l||(l?K(!0):dt(!0),Y(l))},open:L},r.createElement(Qt.Provider,{value:{activeSnapPoint:de,snapPoints:a,setActiveSnapPoint:Ut,drawerRef:h,overlayRef:nt,onOpenChange:n,onPress:we,onRelease:be,onDrag:ge,dismissible:p,shouldAnimate:Bt,handleOnly:w,isOpen:L,isDragging:J,shouldFade:zt,closeDrawer:dt,onNestedDrag:xe,onNestedOpenChange:ye,onNestedRelease:Se,keyboardIsOpen:rt,modal:B,snapPointsOffset:ct,activeSnapPointIndex:at,direction:f,shouldScaleBackground:v,setBackgroundColorOnScale:b,noBodyStyles:A,container:I,autoFocus:V}},e))}const se=r.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:o,onRelease:s,shouldFade:a,isOpen:v,modal:b,shouldAnimate:y}=pt(),S=ee(n,e),p=o&&o.length>0;if(!b)return null;const w=r.useCallback(g=>s(g),[s]);return r.createElement($e,{onMouseUp:w,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":v&&p?"true":"false","data-vaul-snap-points-overlay":v&&a?"true":"false","data-vaul-animate":y!=null&&y.current?"true":"false",...t})});se.displayName="Drawer.Overlay";const le=r.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...o},s){const{drawerRef:a,onPress:v,onRelease:b,onDrag:y,keyboardIsOpen:S,snapPointsOffset:p,activeSnapPointIndex:w,modal:g,isOpen:M,direction:j,snapPoints:T,container:B,handleOnly:m,shouldAnimate:P,autoFocus:A}=pt(),[f,u]=r.useState(!1),z=ee(s,a),d=r.useRef(null),E=r.useRef(null),D=r.useRef(!1),H=T&&T.length>0;nn();const I=(c,W,L=0)=>{if(D.current)return!0;const Y=Math.abs(c.y),k=Math.abs(c.x),K=k>Y,J=["bottom","right"].includes(W)?1:-1;if(W==="left"||W==="right"){if(!(c.x*J<0)&&k>=0&&k<=L)return K}else if(!(c.y*J<0)&&Y>=0&&Y<=L)return!K;return D.current=!0,!0};r.useEffect(()=>{H&&window.requestAnimationFrame(()=>{u(!0)})},[]);function V(c){d.current=null,D.current=!1,b(c)}return r.createElement(_e,{"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":f?"true":"false","data-vaul-snap-points":M&&H?"true":"false","data-vaul-custom-container":B?"true":"false","data-vaul-animate":P!=null&&P.current?"true":"false",...o,ref:z,style:p&&p.length>0?{"--snap-point-height":`${p[w??0]}px`,...n}:n,onPointerDown:c=>{m||(o.onPointerDown==null||o.onPointerDown.call(o,c),d.current={x:c.pageX,y:c.pageY},v(c))},onOpenAutoFocus:c=>{e==null||e(c),A||c.preventDefault()},onPointerDownOutside:c=>{if(t==null||t(c),!g||c.defaultPrevented){c.preventDefault();return}S.current&&(S.current=!1)},onFocusOutside:c=>{if(!g){c.preventDefault();return}},onPointerMove:c=>{if(E.current=c,m||(o.onPointerMove==null||o.onPointerMove.call(o,c),!d.current))return;const W=c.pageY-d.current.y,L=c.pageX-d.current.x,Y=c.pointerType==="touch"?10:2;I({x:L,y:W},j,Y)?y(c):(Math.abs(L)>Y||Math.abs(W)>Y)&&(d.current=null)},onPointerUp:c=>{o.onPointerUp==null||o.onPointerUp.call(o,c),d.current=null,D.current=!1,b(c)},onPointerOut:c=>{o.onPointerOut==null||o.onPointerOut.call(o,c),V(E.current)},onContextMenu:c=>{o.onContextMenu==null||o.onContextMenu.call(o,c),E.current&&V(E.current)}})});le.displayName="Drawer.Content";const on=250,sn=120,ln=r.forwardRef(function({preventCycle:t=!1,children:n,...e},o){const{closeDrawer:s,isDragging:a,snapPoints:v,activeSnapPoint:b,setActiveSnapPoint:y,dismissible:S,handleOnly:p,isOpen:w,onPress:g,onDrag:M}=pt(),j=r.useRef(null),T=r.useRef(!1);function B(){if(T.current){A();return}window.setTimeout(()=>{m()},sn)}function m(){if(a||t||T.current){A();return}if(A(),!v||v.length===0){S||s();return}if(b===v[v.length-1]&&S){s();return}const u=v.findIndex(d=>d===b);if(u===-1)return;const z=v[u+1];y(z)}function P(){j.current=window.setTimeout(()=>{T.current=!0},on)}function A(){j.current&&window.clearTimeout(j.current),T.current=!1}return r.createElement("div",{onClick:B,onPointerCancel:A,onPointerDown:f=>{p&&g(f),P()},onPointerMove:f=>{p&&M(f)},ref:o,"data-vaul-drawer-visible":w?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});ln.displayName="Drawer.Handle";function un(t){const n=pt(),{container:e=n.container,...o}=t;return r.createElement(je,{container:e,...o})}const tt={Root:an,Content:le,Overlay:se,Trigger:Te,Portal:un,Close:Ce,Title:Ee,Description:Re};function cn({...t}){return i.jsx(tt.Root,{"data-slot":"drawer",...t})}function dn({...t}){return i.jsx(tt.Trigger,{"data-slot":"drawer-trigger",...t})}function fn({...t}){return i.jsx(tt.Portal,{"data-slot":"drawer-portal",...t})}function Jt({...t}){return i.jsx(tt.Close,{"data-slot":"drawer-close",...t})}function mn({className:t,...n}){return i.jsx(tt.Overlay,{"data-slot":"drawer-overlay",className:it("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function pn({className:t,children:n,...e}){return i.jsxs(fn,{"data-slot":"drawer-portal",children:[i.jsx(mn,{}),i.jsxs(tt.Content,{"data-slot":"drawer-content",className:it("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...e,children:[i.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})]})}function hn({className:t,...n}){return i.jsx("div",{"data-slot":"drawer-header",className:it("flex flex-col gap-1.5 p-4",t),...n})}function wn({className:t,...n}){return i.jsx("div",{"data-slot":"drawer-footer",className:it("mt-auto flex flex-col gap-2 p-4",t),...n})}function gn({className:t,...n}){return i.jsx(tt.Title,{"data-slot":"drawer-title",className:it("text-foreground font-semibold",t),...n})}function vn({className:t,...n}){return i.jsx(tt.Description,{"data-slot":"drawer-description",className:it("text-muted-foreground text-sm",t),...n})}const bn={name:"",email:"",phone:"",position:"",department_id:"",designation_id:"",user_id:"",pf_number:"",joining_date:"",date_of_birth:"",blood_group:"",emergency_contact:"",employee_image:"",bank_account_number:"",bank_name:"",verify:"",media_id:null,status:!0,present_address:"",permanent_address:"",about:""};function Mn({employee:t=null,departments:n=[],designations:e=[],media:o=[],triggerLabel:s,onClose:a}){const v=!!t,[b,y]=ot.useState(!1),{data:S,setData:p,post:w,put:g,processing:M,reset:j,errors:T}=De(bn),B=[{id:"name",label:"Name",type:"text",component:q},{id:"email",label:"Email",type:"email",component:q},{id:"position",label:"Position",type:"text",component:q},{id:"phone",label:"Phone",type:"text",component:q},{id:"present_address",label:"Present Address",component:_t},{id:"permanent_address",label:"Permanent Address",component:_t},{id:"bank_account_number",label:"Bank Account Number",type:"text",component:q},{id:"bank_name",label:"Bank Name",type:"text",component:q},{id:"pf_number",label:"PF Number",type:"text",component:q},{id:"date_of_birth",label:"Date of Birth",type:"date",component:q},{id:"joining_date",label:"Joining Date",type:"date",component:q},{id:"blood_group",label:"Blood Group",type:"text",component:q},{id:"verify",label:"Verify",type:"text",component:q},{id:"emergency_contact",label:"Emergency Contact",type:"text",component:q},{id:"about",label:"About",component:_t}];ot.useEffect(()=>{t?(y(!0),p(Ne(t))):Object.keys(T).length||(y(!1),j())},[t,T,j,p]);const m=u=>{const{name:z,value:d}=u.target;p(z,d)},P=u=>{u.preventDefault();const z=v?g:w,d=v?route("employees.update",t==null?void 0:t.id):route("employees.store");z(d,{onSuccess:()=>{j(),y(!1),a()}})},A=u=>{(u==null?void 0:u.id)!==void 0&&p("media_id",(u==null?void 0:u.id)??null)},f=()=>{j(),y(!1),a()};return i.jsxs(cn,{open:b,onOpenChange:u=>{y(u),u||a()},direction:"right",children:[i.jsx(dn,{asChild:!0,children:i.jsx(vt,{className:"cursor-pointer",variant:"outline",onClick:()=>{a(),j()},children:s})}),i.jsx(pn,{className:"h-screen w-full ml-auto",children:i.jsxs("form",{onSubmit:P,className:"flex flex-col h-full",children:[i.jsx(hn,{className:"border-b",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs(gn,{children:[v?"Edit":"New"," Employee"]}),i.jsx(vn,{children:v?"Update employee details.":"Fill in employee details."})]}),i.jsx(Jt,{asChild:!0,children:i.jsx(vt,{size:"sm",className:"cursor-pointer",variant:"ghost",onClick:f,children:"✕"})})]})}),i.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[B.map(u=>{const z=u.component;return i.jsxs("div",{children:[i.jsx(bt,{htmlFor:u.id,className:"mb-4",children:u.label}),i.jsx(z,{id:u.id,name:u.id,value:S[u.id],onChange:m,type:u.type||"text"}),i.jsx(yt,{message:T[u.id]})]},u.id)}),i.jsxs("div",{children:[i.jsx(bt,{htmlFor:"department_id",children:"Department"}),i.jsxs("select",{id:"department_id",name:"department_id",value:S.department_id,onChange:m,className:"w-full border rounded-md p-2",children:[i.jsx("option",{value:"",children:"Select Department"}),n.map(u=>i.jsx("option",{value:u.id,children:u.name},u.id))]}),i.jsx(yt,{message:T.department_id})]}),i.jsxs("div",{children:[i.jsx(bt,{htmlFor:"designation_id",children:"Designation"}),i.jsxs("select",{id:"designation_id",name:"designation_id",value:S.designation_id,onChange:m,className:"w-full border rounded-md p-2",children:[i.jsx("option",{value:"",children:"Select Designation"}),e.map(u=>i.jsx("option",{value:u.id,children:u.title},u.id))]}),i.jsx(yt,{message:T.designation_id})]}),i.jsx("div",{className:"mt-4",children:i.jsx(Pe,{onSelect:A,initial:Array.isArray(o)&&o.length>0&&S.media_id?o.find(u=>u.id===Number(S.media_id)):void 0})}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("div",{children:[i.jsx(bt,{htmlFor:"status",children:"Status"}),i.jsx(Ae,{initial:!!Number(S.status),onChange:u=>p("status",u)}),i.jsx(yt,{message:T.status})]})})]}),i.jsxs(wn,{className:"border-t pt-4",children:[i.jsx(vt,{type:"submit",disabled:M,className:"cursor-pointer",variant:"outline",children:M?"Saving...":v?"Update":"Save"}),i.jsx(Jt,{asChild:!0,children:i.jsx(vt,{type:"button",variant:"outline",onClick:f,className:"cursor-pointer",children:"Cancel"})})]})]})})]})}export{Mn as EmployeeDrawer};
