import{K as c,r,j as e,L as N,S as a}from"./app-1oEnDyEf.js";import{A as D}from"./app-layout-Cat9FCKf.js";import{DialogDemo as y}from"./designation-form-By9ZMRGA.js";import{V as p}from"./index-MB3xdT6E.js";import{S,T as v,I as C,D as w}from"./inertia-pagination-PS3YrT1X.js";import{T}from"./toggle-B26ftB_K.js";import"./index-Bik0y3FJ.js";import"./index-DISB0bMi.js";import"./index-B1otIXFd.js";import"./app-logo-icon-AUTQpCkq.js";import"./dialog-DEBuv2dk.js";import"./input-COHnMWZQ.js";import"./label-Bfw44cRY.js";import"./textarea-DiJuxqdG.js";import"./loader-circle-C6-1Bxc0.js";const E=[{title:"Designations",href:"/designations"}];function H(){var d;const{flash:s}=c().props,[x,l]=r.useState(null),{designations:n}=c().props,[m,o]=r.useState(!1),[i,u]=r.useState(null),h=t=>{l(t)},j=t=>{u(t),o(!0)},b=()=>{i!==null&&(a.delete(route("designations.destroy",i),{preserveScroll:!0,preserveState:!0,only:["designations","flash"]}),o(!1))},g=t=>{a.post(route("designations.toggle-status",t),{},{preserveScroll:!0,preserveState:!0,only:["designations","flash"],onSuccess:()=>{a.reload({only:["designations"]})}})};return r.useEffect(()=>{s!=null&&s.success&&p.success(s.success),s!=null&&s.error&&p.error(s.error)},[s]),e.jsxs(e.Fragment,{children:[e.jsxs(D,{breadcrumbs:E,children:[e.jsx(N,{title:"Designations"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"ml-auto",children:e.jsx(y,{designation:x,onClose:()=>l(null)})}),e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-700 text-white",children:[e.jsx("th",{className:"border p-2",children:"#"}),e.jsx("th",{className:"border p-2 text-start",children:"Name"}),e.jsx("th",{className:"border p-2",children:"Status"}),e.jsx("th",{className:"border p-2",children:"Status Value"}),e.jsx("th",{className:"border p-2",children:"Created At"}),e.jsx("th",{className:"border p-2",children:"Action"})]})}),e.jsx("tbody",{children:(d=n.data)==null?void 0:d.map((t,f)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 text-center",children:f+1}),e.jsx("td",{className:"border px-2 py-1",children:t.title}),e.jsx("td",{className:"w-fit border px-2 py-1 text-center",children:e.jsx(T,{initial:t.status,onChange:()=>g(t.id)})}),e.jsxs("td",{className:"border px-2 py-1 text-center",children:[t.status?"Enabled":"Disabled",t.status]}),e.jsx("td",{className:"border px-2 py-1 text-center",children:t.created_at?new Date(t.created_at).toLocaleDateString():"â€”"}),e.jsxs("td",{className:"space-x-1 border px-2 py-1 text-center",children:[e.jsx("button",{className:"cursor-pointer rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",onClick:()=>h(t),children:e.jsx(S,{size:16})}),e.jsx("button",{className:"cursor-pointer rounded bg-red-500 px-3 py-1 text-white hover:bg-red-600",onClick:()=>j(t.id),children:e.jsx(v,{size:16})})]})]},t.id))})]}),e.jsx("div",{className:"mb-2",children:e.jsx(C,{meta:n})})]})]})]}),e.jsx(w,{open:m,onClose:()=>o(!1),onConfirm:b,title:"Confirm Deletion",description:"Are you sure you want to delete this designation?"})]})}export{H as default};
