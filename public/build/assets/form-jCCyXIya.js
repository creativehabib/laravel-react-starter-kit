import{r as c,m as B,j as s}from"./app-C5_29NUB.js";import{B as u}from"./button-DMCbdoZt.js";import{D as E,a as N,b as C,c as S,d as w,e as I,f as L}from"./dialog-CBU6nu3h.js";import{I as T}from"./input-Cd_vIHQG.js";import{L as p,I as g}from"./label-I__mvUVH.js";import{T as b}from"./toggle-BvXwrZf2.js";import{L as y}from"./loader-circle-CZA3M9dd.js";import"./index-NKEVp1U7.js";import"./index-DO-ZrScP.js";import"./x-CHtw1R48.js";import"./createLucideIcon-C1Hr_R4u.js";function K({bloodGroup:e,onClose:l}){const a=!!e,[h,r]=c.useState(!1),{data:d,setData:i,post:x,put:j,processing:o,errors:n,reset:m}=B({name:"",status:!0}),f=t=>{t.preventDefault();const D=a?j:x,v=a?route("blood-groups.update",e==null?void 0:e.id):route("blood-groups.store");D(v,{onSuccess:()=>{m(),r(!1),l()}})};return c.useEffect(()=>{e?(r(!0),i({name:e.name,status:e.status??!0})):Object.keys(n).length||(r(!1),m())},[e,i,m,n]),s.jsxs(E,{open:h,onOpenChange:t=>{r(t),t||l()},children:[s.jsx(N,{asChild:!0,children:!a&&s.jsx(u,{variant:"outline",className:"cursor-pointer",children:"Add BloodGroup"})}),s.jsxs(C,{className:"sm:max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs(S,{children:[s.jsxs(w,{children:[a?"Edit":"Add"," BloodGroup"]}),s.jsx(I,{children:a?"Update the blood group details.":"Provide a name and description."})]}),s.jsxs("form",{className:"grid gap-4",onSubmit:f,children:[s.jsxs("div",{children:[s.jsx(p,{htmlFor:"name",children:"Name"}),s.jsx(T,{id:"name",value:d.name,onChange:t=>i("name",t.target.value),disabled:o}),s.jsx(g,{message:n.name})]}),s.jsxs("div",{children:[s.jsx(p,{htmlFor:"status",children:"Status"}),s.jsx(b,{initial:!!Number(d.status),onChange:t=>i("status",t)}),s.jsx(g,{message:n.status})]}),s.jsx(L,{children:s.jsxs(u,{type:"submit",disabled:o,children:[o&&s.jsx(y,{className:"animate-spin h-4 w-4 mr-2"}),a?"Update":"Save"]})})]})]})]})}export{K as BloodGroupsDialog};
