import{r as c,m as B,j as s}from"./app-Bjod2VL-.js";import{B as u}from"./button-D5jaBSXo.js";import{D as E,a as C,b as N,c as S,d as T,e as w,f as I}from"./dialog-Dt-lCnKe.js";import{I as L}from"./input-CxishPwW.js";import{L as p,I as g}from"./label-B1gSUZMd.js";import{T as b}from"./toggle-QR8CSls4.js";import{L as y}from"./loader-circle-B6CKwtxK.js";import"./index-B2c1kAwm.js";import"./index-BK4x4c8N.js";import"./x-D2uq7-gs.js";import"./createLucideIcon-C8f4ME2f.js";function K({bloodGroup:e,onClose:m}){const a=!!e,[h,i]=c.useState(!1),{data:d,setData:r,post:x,put:j,processing:o,errors:n,reset:l}=B({name:"",status:!0}),f=t=>{t.preventDefault();const D=a?j:x,v=a?route("blood-groups.update",e==null?void 0:e.id):route("blood-groups.store");D(v,{onSuccess:()=>{l(),i(!1),m()}})};return c.useEffect(()=>{e?(i(!0),r({name:e.name,status:e.status??!0})):Object.keys(n).length||(i(!1),l())},[e,r,l,n]),s.jsxs(E,{open:h,onOpenChange:t=>{i(t),t||m()},children:[s.jsx(C,{asChild:!0,children:!a&&s.jsx(u,{variant:"outline",className:"cursor-pointer",children:"Add BloodGroup"})}),s.jsxs(N,{className:"sm:max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs(S,{children:[s.jsxs(T,{children:[a?"Edit":"Add"," BloodGroup"]}),s.jsx(w,{children:a?"Update the blood group details.":"Provide a name and description."})]}),s.jsxs("form",{className:"grid gap-4",onSubmit:f,children:[s.jsxs("div",{children:[s.jsx(p,{htmlFor:"title",children:"Title"}),s.jsx(L,{id:"title",value:d.name,onChange:t=>r("name",t.target.value),disabled:o}),s.jsx(g,{message:n.name})]}),s.jsxs("div",{children:[s.jsx(p,{htmlFor:"status",children:"Status"}),s.jsx(b,{initial:!!Number(d.status),onChange:t=>r("status",t)}),s.jsx(g,{message:n.status})]}),s.jsx(I,{children:s.jsxs(u,{type:"submit",disabled:o,children:[o&&s.jsx(y,{className:"animate-spin h-4 w-4 mr-2"}),a?"Update":"Save"]})})]})]})]})}export{K as BloodGroupsDialog};
